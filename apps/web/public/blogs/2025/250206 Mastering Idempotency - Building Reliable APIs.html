<div style="font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif; font-size:16px;line-height:26px;max-width:728px;width:100%;margin:0 auto">
    <div dir="auto" style="padding:32px 0 0 0;font-size:16px;line-height:26px">
        <div style="font-size:16px;line-height:26px">
            <h1
                style="color:rgb(54,55,55);font-family:'SF Pro Display',-apple-system-headline,system-ui,-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Helvetica,Arial,sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:bold;margin:0;line-height:36px;font-size:32px">
                <a href="https://substack.com/app-link/post?publication_id=817132&amp;post_id=155602744&amp;utm_source=post-email-title&amp;utm_campaign=email-post-title&amp;isFreemail=false&amp;r=4w3bbr&amp;token=eyJ1c2VyX2lkIjoyOTU3NjcwNjMsInBvc3RfaWQiOjE1NTYwMjc0NCwiaWF0IjoxNzM4ODYwMjIyLCJleHAiOjE3NDE0NTIyMjIsImlzcyI6InB1Yi04MTcxMzIiLCJzdWIiOiJwb3N0LXJlYWN0aW9uIn0.ta-EV4irXBE9q03bYvdwRogoTpeeNAPie6aWsGT4Dwk"
                    style="color:rgb(54,55,55);text-decoration:none" target="_blank"
                    data-saferedirecturl="https://www.google.com/url?q=https://substack.com/app-link/post?publication_id%3D817132%26post_id%3D155602744%26utm_source%3Dpost-email-title%26utm_campaign%3Demail-post-title%26isFreemail%3Dfalse%26r%3D4w3bbr%26token%3DeyJ1c2VyX2lkIjoyOTU3NjcwNjMsInBvc3RfaWQiOjE1NTYwMjc0NCwiaWF0IjoxNzM4ODYwMjIyLCJleHAiOjE3NDE0NTIyMjIsImlzcyI6InB1Yi04MTcxMzIiLCJzdWIiOiJwb3N0LXJlYWN0aW9uIn0.ta-EV4irXBE9q03bYvdwRogoTpeeNAPie6aWsGT4Dwk&amp;source=gmail&amp;ust=1755478772677000&amp;usg=AOvVaw0ADHHb0vErFB-9aQDVZK74">Mastering
                    Idempotency: Building Reliable APIs</a></h1>
            <table role="presentation" width="100%" border="0" cellspacing="0" cellpadding="0"
                style="margin:1em 0;height:20px">
                <tbody>
                    <tr>
                        <td>
                            <table role="presentation" width="auto" border="0" cellspacing="0" cellpadding="0">
                                <tbody>
                                    <tr>
                                        <td>
                                            <table role="presentation" width="auto" border="0" cellspacing="0"
                                                cellpadding="0">
                                                <tbody>
                                                    <tr>
                                                        <td style="vertical-align:middle">
                                                            <div
                                                                style="list-style:none;font-size:11px;line-height:20px;text-decoration:unset;color:rgb(54,55,55);margin:0;font-family:'SF Compact',-apple-system,system-ui,-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Helvetica,Arial,sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:500;text-transform:uppercase;letter-spacing:.2px">
                                                                <a style="list-style:none;color:rgb(54,55,55);margin:0;font-size:11px;line-height:20px;font-family:'SF Compact',-apple-system,system-ui,-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Helvetica,Arial,sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:500;text-transform:uppercase;letter-spacing:.2px;text-decoration:none"
                                                                    href="https://substack.com/@bytebytego399569"
                                                                    target="_blank"
                                                                    data-saferedirecturl="https://www.google.com/url?q=https://substack.com/@bytebytego399569&amp;source=gmail&amp;ust=1755478772677000&amp;usg=AOvVaw0nDHGNMHQNZ-jf_swgzVD6"><span
                                                                        class="il"><span class="il"><span
                                                                                class="il"><span
                                                                                    class="il">ByteByteGo</span></span></span></span></a>
                                                            </div>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <table role="presentation" width="auto" border="0" cellspacing="0"
                                                cellpadding="0">
                                                <tbody>
                                                    <tr>
                                                        <td style="vertical-align:middle">
                                                            <div
                                                                style="list-style:none;font-size:11px;line-height:20px;text-decoration:unset;color:rgb(119,119,119);margin:0;font-family:'SF Compact',-apple-system,system-ui,-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Helvetica,Arial,sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:500;text-transform:uppercase;letter-spacing:.2px">
                                                                <time datetime="2025-02-06T16:41:32.766Z">Feb 6</time>
                                                            </div>
                                                        </td>
                                                        <td width="4" style="min-width:4px"></td>
                                                        <td style="vertical-align:middle">
                                                            <table role="presentation" width="auto" border="0"
                                                                cellspacing="0" cellpadding="0">
                                                                <tbody>
                                                                    <tr>
                                                                        <td style="vertical-align:middle">
                                                                            <div
                                                                                style="list-style:none;font-size:11px;line-height:20px;text-decoration:unset;color:rgb(119,119,119);margin:0;font-family:'SF Compact',-apple-system,system-ui,-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Helvetica,Arial,sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:500;text-transform:uppercase;letter-spacing:.2px">
                                                                                âˆ™</div>
                                                                        </td>
                                                                        <td width="4" style="min-width:4px"></td>
                                                                        <td style="vertical-align:middle">
                                                                            <div
                                                                                style="list-style:none;color:rgb(123,97,255);font-size:11px;line-height:20px;text-decoration:unset;margin:0;font-family:'SF Compact',-apple-system,system-ui,-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Helvetica,Arial,sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:500;text-transform:uppercase;letter-spacing:.2px">
                                                                                Paid</div>
                                                                        </td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </td>
                        <td align="right">
                            <table role="presentation" width="auto" border="0" cellspacing="0" cellpadding="0">
                                <tbody>
                                    <tr>
                                        <td style="vertical-align:middle"><a
                                                href="https://substack.com/@bytebytego399569" target="_blank"
                                                data-saferedirecturl="https://www.google.com/url?q=https://substack.com/@bytebytego399569&amp;source=gmail&amp;ust=1755478772677000&amp;usg=AOvVaw0nDHGNMHQNZ-jf_swgzVD6"><img
                                                    src="https://ci3.googleusercontent.com/meips/ADKq_NbMCgdJvKdjXr0fOBZroInJwgWd_XZEhBFIQUaHzuoyQkylhvsJ-bobtSBG9fWF0W6oX2DYHW5hu7kALqnDmhDm1oLYQW7TF40BoFd1rW0xm-gcQo4wLHViC1JmidvmxMAO8SRa20m-_NvSIiwhyza1zOaH0Vq97L40hN-Rwv53qLbwtZOS6oikiTdl1vt2yfsgNVuIzynxlyf7hW8vhKvLBRJWKjc50X5Afp7p0yIoiUqsrPanChBp2beOzI-oKWAcKx0VQk9Pt7cPMajGkd5_WQiDUFGYwCmY=s0-d-e1-ft#https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc9941c68-e5b7-4b93-be75-df7cc4ffef02_504x540.png"
                                                    style="box-sizing:border-box;border-radius:500000px;max-width:550px;border:none;vertical-align:middle;width:40px;height:40px;min-width:40px;min-height:40px;object-fit:cover;margin:0px;display:inline"
                                                    width="40" height="40" class="CToWUd" data-bit="iit"></a></td>
                                    </tr>
                                </tbody>
                            </table>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table role="presentation" width="100%" border="0" cellspacing="0" cellpadding="0"
                style="border-top:1px solid rgb(0,0,0,.1);border-bottom:1px solid rgb(0,0,0,.1);min-width:100%">
                <tbody>
                    <tr height="16">
                        <td height="16" style="font-size:0px;line-height:0">&nbsp;</td>
                    </tr>
                    <tr>
                        <td>
                            <table role="presentation" width="100%" border="0" cellspacing="0" cellpadding="0">
                                <tbody>
                                    <tr>
                                        <td>
                                            <table role="presentation" width="auto" border="0" cellspacing="0"
                                                cellpadding="0">
                                                <tbody>
                                                    <tr>
                                                        <td style="vertical-align:middle">
                                                            <table role="presentation" width="38" border="0"
                                                                cellspacing="0" cellpadding="0">
                                                                <tbody>
                                                                    <tr>
                                                                        <td align="center"><a
                                                                                href="https://substack.com/app-link/post?publication_id=817132&amp;post_id=155602744&amp;utm_source=substack&amp;isFreemail=false&amp;submitLike=true&amp;token=eyJ1c2VyX2lkIjoyOTU3NjcwNjMsInBvc3RfaWQiOjE1NTYwMjc0NCwicmVhY3Rpb24iOiLinaQiLCJpYXQiOjE3Mzg4NjAyMjIsImV4cCI6MTc0MTQ1MjIyMiwiaXNzIjoicHViLTgxNzEzMiIsInN1YiI6InJlYWN0aW9uIn0.8pNVY2v-N6uFgbvCQ9SFOCcL7yr4aRTq-JT6jiDLu4s&amp;utm_medium=email&amp;utm_campaign=email-reaction&amp;r=4w3bbr"
                                                                                style="font-family:system-ui,-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Helvetica,Arial,sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';display:inline-block;font-weight:500;border:1px solid rgb(0,0,0,.1);border-radius:9999px;text-transform:uppercase;font-size:12px;line-height:1;padding:9px 0;text-decoration:none;color:rgb(119,119,119);min-width:38px;box-sizing:border-box;width:38px"
                                                                                target="_blank"
                                                                                data-saferedirecturl="https://www.google.com/url?q=https://substack.com/app-link/post?publication_id%3D817132%26post_id%3D155602744%26utm_source%3Dsubstack%26isFreemail%3Dfalse%26submitLike%3Dtrue%26token%3DeyJ1c2VyX2lkIjoyOTU3NjcwNjMsInBvc3RfaWQiOjE1NTYwMjc0NCwicmVhY3Rpb24iOiLinaQiLCJpYXQiOjE3Mzg4NjAyMjIsImV4cCI6MTc0MTQ1MjIyMiwiaXNzIjoicHViLTgxNzEzMiIsInN1YiI6InJlYWN0aW9uIn0.8pNVY2v-N6uFgbvCQ9SFOCcL7yr4aRTq-JT6jiDLu4s%26utm_medium%3Demail%26utm_campaign%3Demail-reaction%26r%3D4w3bbr&amp;source=gmail&amp;ust=1755478772677000&amp;usg=AOvVaw0Nnd_JiULY3kR6-wFmkyVE"><img
                                                                                    src="https://ci3.googleusercontent.com/meips/ADKq_NYOjKnGdA6WctG38AS6EVdNYu_-7fh22xck2A9-pvWHOzWlHUTWwJBnDEHuihQT-mHYSFSOPGMFj17PoFDPqBRyAweZbKJBfmfdf0nN2gA2vpA_t4hra0npxdFv1Su3gybOyNLyHYsDXBY3m_mn080mcPeWTKQqIgqXPRT2V1wYwfkaPCLzlY_V-PiTggfv_xrTA8HYh7HKuHujEESc2P0y1oNal12FbEVuGHyE1cfT8Ao_kDE4WXwuj4hsN9KnkWa2-U1gOjvQJix2w3wAxTvq7i8tS-cG5kiw_zDtLa2jRkfU-2J9dqE1fRI=s0-d-e1-ft#https://substackcdn.com/image/fetch/w_36,c_scale,f_png,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack.com%2Ficon%2FLucideHeart%3Fv%3D4%26height%3D36%26fill%3Dnone%26stroke%3D%2523808080%26strokeWidth%3D2"
                                                                                    width="18" height="18"
                                                                                    style="border:none;vertical-align:middle;max-width:18px"
                                                                                    alt="" class="CToWUd"
                                                                                    data-bit="iit"></a></td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                        </td>
                                                        <td width="8" style="min-width:8px"></td>
                                                        <td style="vertical-align:middle">
                                                            <table role="presentation" width="38" border="0"
                                                                cellspacing="0" cellpadding="0">
                                                                <tbody>
                                                                    <tr>
                                                                        <td align="center"><a
                                                                                href="https://substack.com/app-link/post?publication_id=817132&amp;post_id=155602744&amp;utm_source=substack&amp;utm_medium=email&amp;isFreemail=false&amp;comments=true&amp;token=eyJ1c2VyX2lkIjoyOTU3NjcwNjMsInBvc3RfaWQiOjE1NTYwMjc0NCwiaWF0IjoxNzM4ODYwMjIyLCJleHAiOjE3NDE0NTIyMjIsImlzcyI6InB1Yi04MTcxMzIiLCJzdWIiOiJwb3N0LXJlYWN0aW9uIn0.ta-EV4irXBE9q03bYvdwRogoTpeeNAPie6aWsGT4Dwk&amp;r=4w3bbr&amp;utm_campaign=email-half-magic-comments&amp;action=post-comment&amp;utm_source=substack&amp;utm_medium=email"
                                                                                style="font-family:system-ui,-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Helvetica,Arial,sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';display:inline-block;font-weight:500;border:1px solid rgb(0,0,0,.1);border-radius:9999px;text-transform:uppercase;font-size:12px;line-height:1;padding:9px 0;text-decoration:none;color:rgb(119,119,119);min-width:38px;box-sizing:border-box;width:38px"
                                                                                target="_blank"
                                                                                data-saferedirecturl="https://www.google.com/url?q=https://substack.com/app-link/post?publication_id%3D817132%26post_id%3D155602744%26utm_source%3Dsubstack%26utm_medium%3Demail%26isFreemail%3Dfalse%26comments%3Dtrue%26token%3DeyJ1c2VyX2lkIjoyOTU3NjcwNjMsInBvc3RfaWQiOjE1NTYwMjc0NCwiaWF0IjoxNzM4ODYwMjIyLCJleHAiOjE3NDE0NTIyMjIsImlzcyI6InB1Yi04MTcxMzIiLCJzdWIiOiJwb3N0LXJlYWN0aW9uIn0.ta-EV4irXBE9q03bYvdwRogoTpeeNAPie6aWsGT4Dwk%26r%3D4w3bbr%26utm_campaign%3Demail-half-magic-comments%26action%3Dpost-comment%26utm_source%3Dsubstack%26utm_medium%3Demail&amp;source=gmail&amp;ust=1755478772678000&amp;usg=AOvVaw3uicI-0dBj-RNYQWEWz6jt"><img
                                                                                    src="https://ci3.googleusercontent.com/meips/ADKq_NZQ6ul5mfmbhHqaf8QqG95Pk2-u43roqB75nm5jJzhHXd--mR5Y8AvAyxxNDy_VtDd9fmjbUCT-HubbmsyqACondkMynDxF_4OPkse-myg1NEghIdojn9hXTPU8-8O66FdE-vni0HscGR7DdII1fBBP6Cqijmqt79Qf4aXgmizh3DWrKKu-k0Wgdk-bqdv-bhzJc25nY0ZIwaK-MSHSD25MZOwmFTqke48mYHWY7_OTC_tC7y9c6l7pZazslKv0l7zCVu3O4lHo5J4IzMUhAsYY7HrfIK6I1w19tGLaiFqYRu_GEX2HfaE1wzpyR-8=s0-d-e1-ft#https://substackcdn.com/image/fetch/w_36,c_scale,f_png,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack.com%2Ficon%2FLucideComments%3Fv%3D4%26height%3D36%26fill%3Dnone%26stroke%3D%2523808080%26strokeWidth%3D2"
                                                                                    width="18" height="18"
                                                                                    style="border:none;vertical-align:middle;max-width:18px"
                                                                                    alt="" class="CToWUd"
                                                                                    data-bit="iit"></a></td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                        </td>
                                                        <td width="8" style="min-width:8px"></td>
                                                        <td style="vertical-align:middle">
                                                            <table role="presentation" width="38" border="0"
                                                                cellspacing="0" cellpadding="0">
                                                                <tbody>
                                                                    <tr>
                                                                        <td align="center"><a
                                                                                href="https://substack.com/app-link/post?publication_id=817132&amp;post_id=155602744&amp;utm_source=substack&amp;utm_medium=email&amp;utm_content=share&amp;utm_campaign=email-share&amp;action=share&amp;triggerShare=true&amp;isFreemail=false&amp;r=4w3bbr&amp;token=eyJ1c2VyX2lkIjoyOTU3NjcwNjMsInBvc3RfaWQiOjE1NTYwMjc0NCwiaWF0IjoxNzM4ODYwMjIyLCJleHAiOjE3NDE0NTIyMjIsImlzcyI6InB1Yi04MTcxMzIiLCJzdWIiOiJwb3N0LXJlYWN0aW9uIn0.ta-EV4irXBE9q03bYvdwRogoTpeeNAPie6aWsGT4Dwk"
                                                                                style="font-family:system-ui,-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Helvetica,Arial,sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';display:inline-block;font-weight:500;border:1px solid rgb(0,0,0,.1);border-radius:9999px;text-transform:uppercase;font-size:12px;line-height:1;padding:9px 0;text-decoration:none;color:rgb(119,119,119);min-width:38px;box-sizing:border-box;width:38px"
                                                                                target="_blank"
                                                                                data-saferedirecturl="https://www.google.com/url?q=https://substack.com/app-link/post?publication_id%3D817132%26post_id%3D155602744%26utm_source%3Dsubstack%26utm_medium%3Demail%26utm_content%3Dshare%26utm_campaign%3Demail-share%26action%3Dshare%26triggerShare%3Dtrue%26isFreemail%3Dfalse%26r%3D4w3bbr%26token%3DeyJ1c2VyX2lkIjoyOTU3NjcwNjMsInBvc3RfaWQiOjE1NTYwMjc0NCwiaWF0IjoxNzM4ODYwMjIyLCJleHAiOjE3NDE0NTIyMjIsImlzcyI6InB1Yi04MTcxMzIiLCJzdWIiOiJwb3N0LXJlYWN0aW9uIn0.ta-EV4irXBE9q03bYvdwRogoTpeeNAPie6aWsGT4Dwk&amp;source=gmail&amp;ust=1755478772678000&amp;usg=AOvVaw1Yi45VKeIGtW9fK9ktenW7"><img
                                                                                    src="https://ci3.googleusercontent.com/meips/ADKq_NapSNhlS0wrP7TDO6xUMgaIvZAZVT6MPmCAQFChOJhlxMGNru6s-y28sjhxVgbEu0DpzgqZQGQ4LcdG7Ul9q6nczy7BDzFm23Py7j0OEAVgy6SDQg2utY1XcxnYRBTskLmml51_yQ45AxHVDG-RBUVlAF-hxHVVPUPXxjNlwjDSAe2PtFip_g4-8C5MI_RiVd5ONVV1B-rA4_Mkj91Y5EyCYYxlBC1Zj6ucBCurj9X_g83Bxg-EpbK4rOuSdTZ9QlJrojVx0qPyyH5cZeAZ1cobCEkYM_CLohPpHCMYsoprHIKVuPo0eIO1fQRH=s0-d-e1-ft#https://substackcdn.com/image/fetch/w_36,c_scale,f_png,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack.com%2Ficon%2FLucideShare2%3Fv%3D4%26height%3D36%26fill%3Dnone%26stroke%3D%2523808080%26strokeWidth%3D2"
                                                                                    width="18" height="18"
                                                                                    style="border:none;vertical-align:middle;max-width:18px"
                                                                                    alt="" class="CToWUd"
                                                                                    data-bit="iit"></a></td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                        </td>
                                                        <td width="8" style="min-width:8px"></td>
                                                        <td style="vertical-align:middle">
                                                            <table role="presentation" width="38" border="0"
                                                                cellspacing="0" cellpadding="0">
                                                                <tbody>
                                                                    <tr>
                                                                        <td align="center"><a
                                                                                href="https://substack.com/redirect/2/eyJlIjoiaHR0cHM6Ly9vcGVuLnN1YnN0YWNrLmNvbS9wdWIvYnl0ZWJ5dGVnby9wL21hc3RlcmluZy1pZGVtcG90ZW5jeS1idWlsZGluZy1yZWxpYWJsZT91dG1fc291cmNlPXN1YnN0YWNrJnV0bV9tZWRpdW09ZW1haWwmdXRtX2NhbXBhaWduPWVtYWlsLXJlc3RhY2stY29tbWVudCZhY3Rpb249cmVzdGFjay1jb21tZW50JnI9NHczYmJyJnRva2VuPWV5SjFjMlZ5WDJsa0lqb3lPVFUzTmpjd05qTXNJbkJ2YzNSZmFXUWlPakUxTlRZd01qYzBOQ3dpYVdGMElqb3hOek00T0RZd01qSXlMQ0psZUhBaU9qRTNOREUwTlRJeU1qSXNJbWx6Y3lJNkluQjFZaTA0TVRjeE16SWlMQ0p6ZFdJaU9pSndiM04wTFhKbFlXTjBhVzl1SW4wLnRhLUVWNGlyWEJFOXEwM2JZdmR3Um9nb1RwZWVOQVBpZTZhV3NHVDREd2siLCJwIjoxNTU2MDI3NDQsInMiOjgxNzEzMiwiZiI6ZmFsc2UsInUiOjI5NTc2NzA2MywiaWF0IjoxNzM4ODYwMjIyLCJleHAiOjE3NDE0NTIyMjIsImlzcyI6InB1Yi0wIiwic3ViIjoibGluay1yZWRpcmVjdCJ9.Aru0hVmxe0mlHy3HHqIBKLzN8Tz4Wqmhgk_ujMC1ITw?&amp;utm_source=substack&amp;utm_medium=email"
                                                                                style="font-family:system-ui,-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Helvetica,Arial,sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';display:inline-block;font-weight:500;border:1px solid rgb(0,0,0,.1);border-radius:9999px;text-transform:uppercase;font-size:12px;line-height:1;padding:9px 0;text-decoration:none;color:rgb(119,119,119);min-width:38px;box-sizing:border-box;width:38px"
                                                                                target="_blank"
                                                                                data-saferedirecturl="https://www.google.com/url?q=https://substack.com/redirect/2/eyJlIjoiaHR0cHM6Ly9vcGVuLnN1YnN0YWNrLmNvbS9wdWIvYnl0ZWJ5dGVnby9wL21hc3RlcmluZy1pZGVtcG90ZW5jeS1idWlsZGluZy1yZWxpYWJsZT91dG1fc291cmNlPXN1YnN0YWNrJnV0bV9tZWRpdW09ZW1haWwmdXRtX2NhbXBhaWduPWVtYWlsLXJlc3RhY2stY29tbWVudCZhY3Rpb249cmVzdGFjay1jb21tZW50JnI9NHczYmJyJnRva2VuPWV5SjFjMlZ5WDJsa0lqb3lPVFUzTmpjd05qTXNJbkJ2YzNSZmFXUWlPakUxTlRZd01qYzBOQ3dpYVdGMElqb3hOek00T0RZd01qSXlMQ0psZUhBaU9qRTNOREUwTlRJeU1qSXNJbWx6Y3lJNkluQjFZaTA0TVRjeE16SWlMQ0p6ZFdJaU9pSndiM04wTFhKbFlXTjBhVzl1SW4wLnRhLUVWNGlyWEJFOXEwM2JZdmR3Um9nb1RwZWVOQVBpZTZhV3NHVDREd2siLCJwIjoxNTU2MDI3NDQsInMiOjgxNzEzMiwiZiI6ZmFsc2UsInUiOjI5NTc2NzA2MywiaWF0IjoxNzM4ODYwMjIyLCJleHAiOjE3NDE0NTIyMjIsImlzcyI6InB1Yi0wIiwic3ViIjoibGluay1yZWRpcmVjdCJ9.Aru0hVmxe0mlHy3HHqIBKLzN8Tz4Wqmhgk_ujMC1ITw?%26utm_source%3Dsubstack%26utm_medium%3Demail&amp;source=gmail&amp;ust=1755478772678000&amp;usg=AOvVaw0taeKv504OQOB1Sx-rBRRv"><img
                                                                                    src="https://ci3.googleusercontent.com/meips/ADKq_NaAcs1x603C43QswW4X8QyFClE_iV8uDH81ZVUNp3jAGANfuOCmrOzybMjuK33ZdFBhvT8DDWg0rf3MAXaLwNX60pbEsKrG6mTkBF_tG7ZARpxyWUW8cpyvgr3eSzZICeFBgjAqeW7re2q56EWvaeduPbgJWgiIE9-PkR4dtd6NjoikjabCx8n01yfhM-NyOQS1DN1XI5hM2LQTOCVv40Fu_bvfnwiQEBzDUjZ76gEeQ0xvcjRPaP32NaqS8DohcCuxk54JO6YLS-Pjq0NbVW1t8PiuH78evl4TcGgXxoJn5_wamD9wxnzC27JB_yLT=s0-d-e1-ft#https://substackcdn.com/image/fetch/w_36,c_scale,f_png,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack.com%2Ficon%2FNoteForwardIcon%3Fv%3D4%26height%3D36%26fill%3Dnone%26stroke%3D%2523808080%26strokeWidth%3D2"
                                                                                    width="18" height="18"
                                                                                    style="border:none;vertical-align:middle;max-width:18px"
                                                                                    alt="" class="CToWUd"
                                                                                    data-bit="iit"></a></td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </td>
                                        <td align="right">
                                            <table role="presentation" width="auto" border="0" cellspacing="0"
                                                cellpadding="0">
                                                <tbody>
                                                    <tr>
                                                        <td style="vertical-align:middle">
                                                            <table role="presentation" width="auto" border="0"
                                                                cellspacing="0" cellpadding="0">
                                                                <tbody>
                                                                    <tr>
                                                                        <td align="center"><a
                                                                                href="https://open.substack.com/pub/bytebytego/p/mastering-idempotency-building-reliable?utm_source=email&amp;redirect=app-store&amp;utm_campaign=email-read-in-app"
                                                                                style="font-family:system-ui,-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Helvetica,Arial,sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';display:inline-block;font-weight:500;border:1px solid rgb(0,0,0,.1);border-radius:9999px;text-transform:uppercase;font-size:12px;line-height:12px;padding:9px 14px;text-decoration:none;color:rgb(119,119,119)"
                                                                                target="_blank"
                                                                                data-saferedirecturl="https://www.google.com/url?q=https://open.substack.com/pub/bytebytego/p/mastering-idempotency-building-reliable?utm_source%3Demail%26redirect%3Dapp-store%26utm_campaign%3Demail-read-in-app&amp;source=gmail&amp;ust=1755478772678000&amp;usg=AOvVaw274onVCuqXWD-JNp15vQVt">
                                                                                <div
                                                                                    style="font-size:16px;line-height:26px;display:inline-block;vertical-align:middle;max-width:0;min-height:18px">
                                                                                </div><span
                                                                                    style="vertical-align:middle;margin-right:4px">READ
                                                                                    IN APP</span><img
                                                                                    src="https://ci3.googleusercontent.com/meips/ADKq_NaVoM1eU0jjTkvA2WW013vxrJswf87KeRy9ZEoh-hxMmrrvtCgKHkpQtp-N3t7hh3LjreScqwuiZDtTl9WoV8aFqqMbCc7mcDn_7HlwUj72eKTcnfWWcV_21jW4_1RAKX6y0NsWFKbmQlPsojxLoT6g1lDIHlbYd7Qw9eGm2joz0q2aeHFLqWh0Qzn7Vp7zQSUMi2G7WXKarVwxNIcKwcqCqKaGMRRu0eqjYWPFO0M-uYomtkRGaw42vCwJ0OIJJ2s1FXcAX85MM51wHWw9dXugaANkCwE3Au45zgyyZnHYrC50Em3BhvterOZkofH84x1S=s0-d-e1-ft#https://substackcdn.com/image/fetch/w_36,c_scale,f_png,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack.com%2Ficon%2FLucideArrowUpRight%3Fv%3D4%26height%3D36%26fill%3Dnone%26stroke%3D%2523808080%26strokeWidth%3D2"
                                                                                    width="18" height="18"
                                                                                    style="min-width:18px;min-height:18px;border:none;vertical-align:middle;margin-right:0;margin-left:0;max-width:18px"
                                                                                    alt="" class="CToWUd"
                                                                                    data-bit="iit">
                                                                            </a></td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </td>
                    </tr>
                    <tr height="16">
                        <td height="16" style="font-size:0px;line-height:0">&nbsp;</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    <div dir="auto" style="padding:32px 0 0 0;font-size:16px;line-height:26px">
        <div dir="auto"
            style="text-align:initial;font-size:16px;line-height:26px;width:100%;word-break:break-word;margin-bottom:16px">
            <p style="margin:0 0 20px 0;color:rgb(54,55,55);line-height:26px;font-size:16px;margin-top:0">Idempotency is
                the property of an operation that ensures performing the same action multiple times produces the same
                outcome as doing it once.&nbsp;</p>
            <p style="margin:0 0 20px 0;color:rgb(54,55,55);line-height:26px;font-size:16px">In the context of APIs,
                this means a client can send the same request multiple times without causing unintended consequences,
                such as duplicate entries or repeated side effects.</p>
            <p style="margin:0 0 20px 0;color:rgb(54,55,55);line-height:26px;font-size:16px">For example:</p>
            <ul style="margin-top:0;padding:0">
                <li style="margin:8px 0 0 32px">
                    <p
                        style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                        When a user initiates an online payment but experiences a timeout due to network issues, the
                        payment API is called again as part of the retry mechanism. Without idempotency, the user might
                        be charged multiple times for the same transaction.</p>
                </li>
                <li style="margin:8px 0 0 32px">
                    <p
                        style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                        A customer adds items to their cart and places an order. However, due to a slow internet
                        connection, they hit the "Place Order" button repeatedly. Without idempotency, multiple
                        identical orders might be created, leading to duplicate shipments and inventory mismanagement.
                    </p>
                </li>
                <li style="margin:8px 0 0 32px">
                    <p
                        style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                        If a user registers for a service but the confirmation page doesnâ€™t load properly, they are
                        prompted to submit the registration form again. Without idempotency, duplicate user accounts
                        might be created.</p>
                </li>
            </ul>
            <p style="margin:0 0 20px 0;color:rgb(54,55,55);line-height:26px;font-size:16px">Idempotency is critical for
                reliability and consistency due to the following reasons:</p>
            <ul style="margin-top:0;padding:0">
                <li style="margin:8px 0 0 32px">
                    <p
                        style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                        Network issues can cause API requests to fail or time out. In such cases, clients often retry
                        requests to ensure the operation succeeds. Without idempotency, retries can lead to undesired
                        duplication or data corruption.</p>
                </li>
                <li style="margin:8px 0 0 32px">
                    <p
                        style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                        Idempotent operations help manage race conditions where multiple requests might be processed
                        simultaneously.</p>
                </li>
                <li style="margin:8px 0 0 32px">
                    <p
                        style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                        Idempotency provides predictability and stability, ensuring that users donâ€™t encounter
                        inconsistent or erroneous outcomes</p>
                </li>
            </ul>
            <p style="margin:0 0 20px 0;color:rgb(54,55,55);line-height:26px;font-size:16px">In this article, weâ€™ll
                understand how idempotency works in API Design and investigate multiple strategies to implement
                idempotency in real-world applications.</p>
            <div style="font-size:16px;line-height:26px;margin:32px auto">
                <figure style="width:100%;margin:0 auto">
                    <table width="100%" border="0" cellspacing="0" cellpadding="0">
                        <tbody>
                            <tr>
                                <td style="text-align:center"></td>
                                <td align="left" width="1456" style="text-align:center"><a rel=""
                                        href="https://substack.com/redirect/e36c5fee-630b-431d-9cbd-cdc2920c69da?j=eyJ1IjoiNHczYmJyIn0.8e0w4-0q-RFN6irgmuQiCn0Z5qrzGdYTlhlmUSeaY-s"
                                        style="padding:0;width:auto;height:auto;border:none;text-decoration:none;display:block;margin:0"
                                        target="_blank"
                                        data-saferedirecturl="https://www.google.com/url?q=https://substack.com/redirect/e36c5fee-630b-431d-9cbd-cdc2920c69da?j%3DeyJ1IjoiNHczYmJyIn0.8e0w4-0q-RFN6irgmuQiCn0Z5qrzGdYTlhlmUSeaY-s&amp;source=gmail&amp;ust=1755478772678000&amp;usg=AOvVaw3VvwMDbYMNKutF-uiCsGq-"><img
                                            alt="" width="550" height="658.0357142857143"
                                            src="https://ci3.googleusercontent.com/meips/ADKq_Nadlrjjix3Hiz8eSA-CZu1TZcX38VA_lIhXSqJnnlRJO3yP7tMpUDiqU1VcNoU3B6wEt8hpiP5eFvD47aae-bNHgc6zL0ok4sOSodP-OYiH9pSBcdAoOm7LEnVpyX3kGWg5570D8NGaBih1TpY36hFM8NnlZm-j19YhRKgOjzs9_jcS4ib71y-VmnzOeqOKuClrMFjgO4elsPKlVugsaeea5rMGmJLaDOZOdTq_1j1g4VQlD6yAJpAA0ZmOZhszlepvmgkHAapcwk_cEEnUzuHZsMp3bfjDK580nH5VxtF1nGpK8gzsOkT5OBA=s0-d-e1-ft#https://substackcdn.com/image/fetch/w_1100,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc3beec9e-cd04-4748-ae7e-3299b42883f6_2360x2824.png"
                                            style="border:none!important;vertical-align:middle;display:block;height:auto;margin-bottom:0;width:auto!important;max-width:100%!important;margin:0 auto"
                                            class="CToWUd" data-bit="iit"></a></td>
                                <td style="text-align:center"></td>
                            </tr>
                        </tbody>
                    </table>
                </figure>
            </div>
            <h2
                style="font-family:'SF Pro Display',-apple-system-headline,system-ui,-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Helvetica,Arial,sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:bold;margin:1em 0 0.625em 0;color:rgb(54,55,55);line-height:1.16em;font-size:1.625em">
                Idempotency in API Design</h2>
            <div style="font-size:16px;line-height:26px;display:none"></div>
            <p style="margin:0 0 20px 0;color:rgb(54,55,55);line-height:26px;font-size:16px">The concept of idempotency
                is inherently tied to HTTP methods, which can be categorized based on their idempotency properties.</p>
            <ul style="margin-top:0;padding:0">
                <li style="margin:8px 0 0 32px">
                    <p
                        style="margin:0 0 20px 0;color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px">
                        <strong>Idempotent Methods</strong></p>
                    <ul style="margin-top:0;padding:0">
                        <li style="margin:8px 0 0 32px">
                            <p
                                style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                                GET retrieves information without modifying the server state. No matter how many times a
                                GET request is made, the response remains the same, provided the resource state doesnâ€™t
                                change in the meantime. For example, GET /users/123 retrieves user data for user ID 123.
                            </p>
                        </li>
                        <li style="margin:8px 0 0 32px">
                            <p
                                style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                                PUT updates or creates a resource. Multiple PUT requests with the same data will produce
                                the same result.</p>
                        </li>
                        <li style="margin:8px 0 0 32px">
                            <p
                                style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                                DELETE deletes a resource. Repeated DELETE requests are idempotent because once the
                                resource is deleted, subsequent DELETEs have no further effect.</p>
                        </li>
                        <li style="margin:8px 0 0 32px">
                            <p
                                style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                                HEAD is similar to GET but retrieves only headers. This method is also idempotent as it
                                doesnâ€™t modify the server state.</p>
                        </li>
                    </ul>
                </li>
                <li style="margin:8px 0 0 32px">
                    <p
                        style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                        <strong>Non-Idempotent Method: </strong><span>POST is typically used to create new resources or
                            perform operations with side effects. Generally, POST is not idempotent because repeating
                            the request may create multiple new resources or have different side effects. For example,
                            POST /orders create a new order. Multiple POST requests can result in multiple orders being
                            created.</span></p>
                </li>
            </ul>
            <div style="font-size:16px;line-height:26px;margin:32px auto">
                <figure style="width:100%;margin:0 auto">
                    <table width="100%" border="0" cellspacing="0" cellpadding="0">
                        <tbody>
                            <tr>
                                <td style="text-align:center"></td>
                                <td align="left" width="1456" style="text-align:center"><a rel=""
                                        href="https://substack.com/redirect/dca36836-f399-4e6f-a497-7a8850fefa1e?j=eyJ1IjoiNHczYmJyIn0.8e0w4-0q-RFN6irgmuQiCn0Z5qrzGdYTlhlmUSeaY-s"
                                        style="padding:0;width:auto;height:auto;border:none;text-decoration:none;display:block;margin:0"
                                        target="_blank"
                                        data-saferedirecturl="https://www.google.com/url?q=https://substack.com/redirect/dca36836-f399-4e6f-a497-7a8850fefa1e?j%3DeyJ1IjoiNHczYmJyIn0.8e0w4-0q-RFN6irgmuQiCn0Z5qrzGdYTlhlmUSeaY-s&amp;source=gmail&amp;ust=1755478772678000&amp;usg=AOvVaw0RLqzbqr8mnZNPIWCNebLo"><img
                                            alt="" width="550" height="395.5013736263736"
                                            src="https://ci3.googleusercontent.com/meips/ADKq_Nay5tzXnRprBv3rSflcRq7I07psQpYJhxoOMC44W7a_jiBtJXhWEFvq-Y4pjeasS3XmlK_04nBKMU6c-ciGZx34tsOP5649EQz-AU0bJnqIc_Pyc8ncvK-42Q2K2P44kO57zDebZIFKuISNCkhWot-zV0rrbwEzVsHH1OUX6DjDs_koNOsJMmHGwcMdR5k47p0Ptspz5042p56EweHzoGjIVL4u_ifkc4NGHZmfD8FoHn1UAWr9WyFxKITn-2hnHw7A4APvRwCJxEtV0a6-D3P4M-DXpZtOhIG7w4QHwK7mqDAtonRShKCNdlg=s0-d-e1-ft#https://substackcdn.com/image/fetch/w_1100,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9e186729-35c0-480d-a999-14b2814049ff_1600x1150.png"
                                            style="border:none!important;vertical-align:middle;display:block;height:auto;margin-bottom:0;width:auto!important;max-width:100%!important;margin:0 auto"
                                            class="CToWUd" data-bit="iit"></a></td>
                                <td style="text-align:center"></td>
                            </tr>
                        </tbody>
                    </table>
                </figure>
            </div>
            <h3
                style="font-family:'SF Pro Display',-apple-system-headline,system-ui,-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Helvetica,Arial,sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:bold;margin:1em 0 0.625em 0;color:rgb(54,55,55);line-height:1.16em;font-size:1.375em">
                Idempotency vs Retries</h3>
            <p style="margin:0 0 20px 0;color:rgb(54,55,55);line-height:26px;font-size:16px">Although idempotency and
                retries are related concepts, they are distinct:</p>
            <ul style="margin-top:0;padding:0">
                <li style="margin:8px 0 0 32px">
                    <p
                        style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                        Idempotency ensures that repeating the same operation produces the same result, regardless of
                        whether the operation is retried intentionally or due to a failure.</p>
                </li>
                <li style="margin:8px 0 0 32px">
                    <p
                        style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                        Retries are mechanisms to handle transient errors (such as network disruptions) by resending the
                        request. When retries are implemented, idempotency becomes crucial to avoid unintended side
                        effects from repeated operations.</p>
                </li>
            </ul>
            <p style="margin:0 0 20px 0;color:rgb(54,55,55);line-height:26px;font-size:16px">For example:</p>
            <ul style="margin-top:0;padding:0">
                <li style="margin:8px 0 0 32px">
                    <p
                        style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                        Without idempotency, retrying a payment request may charge a user multiple times.</p>
                </li>
                <li style="margin:8px 0 0 32px">
                    <p
                        style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                        With idempotency, the payment request uses a unique transaction ID, ensuring that only one
                        payment is processed, regardless of retries.</p>
                </li>
            </ul>
            <div style="font-size:16px;line-height:26px;margin:32px auto">
                <figure style="width:100%;margin:0 auto">
                    <table width="100%" border="0" cellspacing="0" cellpadding="0">
                        <tbody>
                            <tr>
                                <td style="text-align:center"></td>
                                <td align="left" width="1456" style="text-align:center"><a rel=""
                                        href="https://substack.com/redirect/b1f7f593-3f1d-44ae-8a24-e6eaadd44e14?j=eyJ1IjoiNHczYmJyIn0.8e0w4-0q-RFN6irgmuQiCn0Z5qrzGdYTlhlmUSeaY-s"
                                        style="padding:0;width:auto;height:auto;border:none;text-decoration:none;display:block;margin:0"
                                        target="_blank"
                                        data-saferedirecturl="https://www.google.com/url?q=https://substack.com/redirect/b1f7f593-3f1d-44ae-8a24-e6eaadd44e14?j%3DeyJ1IjoiNHczYmJyIn0.8e0w4-0q-RFN6irgmuQiCn0Z5qrzGdYTlhlmUSeaY-s&amp;source=gmail&amp;ust=1755478772678000&amp;usg=AOvVaw2VKJGL8GrGzB9N0nLEWw93"><img
                                            alt="" width="550" height="395.5013736263736"
                                            src="https://ci3.googleusercontent.com/meips/ADKq_NaBriDJNSkgGfnv0i-Ll_u0liKSmgWSvRXc0gDSEuap03RdWwuI4HdYjZzp0K5eYtYs8GvuVXYKs1ILGerWcOBbXOpAQGz4Ve10WTwFmjfEyF4xnNsKUOCkUWt1BuJl-NqpAvgCQZikfHILYsnO9wE2Z-YeqCv6aQofjtCKwAOZ-qzCBhN_DN7xdQfTkIt7dE-1TwoONWDS00_nvTxfnvk-JByOM0vQ1ybKEq4mYxedO019Ig9C36aea3DQaNvjmkFY3Mq1oK9GWXCH3V9GYLqhrcGdGk7BmY_iLiTSWGPQaPcubnUWdR8mvsA=s0-d-e1-ft#https://substackcdn.com/image/fetch/w_1100,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F48613cc7-096d-4ba5-98f5-bf38c85b3201_1600x1150.png"
                                            style="border:none!important;vertical-align:middle;display:block;height:auto;margin-bottom:0;width:auto!important;max-width:100%!important;margin:0 auto"
                                            class="CToWUd" data-bit="iit"></a></td>
                                <td style="text-align:center"></td>
                            </tr>
                        </tbody>
                    </table>
                </figure>
            </div>
            <h3
                style="font-family:'SF Pro Display',-apple-system-headline,system-ui,-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Helvetica,Arial,sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:bold;margin:1em 0 0.625em 0;color:rgb(54,55,55);line-height:1.16em;font-size:1.375em">
                Challenges in Ensuring Idempotent Operations</h3>
            <p style="margin:0 0 20px 0;color:rgb(54,55,55);line-height:26px;font-size:16px">While idempotency is
                crucial, it is also challenging to implement. Some of the key challenges with supporting idempotency are
                as follows:</p>
            <ul style="margin-top:0;padding:0">
                <li style="margin:8px 0 0 32px">
                    <p
                        style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                        <strong>Uniqueness</strong><span> </span><strong>of</strong><span>
                        </span><strong>Identifiers</strong><span>: Idempotency often relies on unique identifiers, such
                            as transaction IDs or request IDs. Generating and managing these identifiers consistently
                            across distributed systems can be challenging.</span></p>
                </li>
                <li style="margin:8px 0 0 32px">
                    <p
                        style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                        <strong>Concurrent Requests</strong><span>: Simultaneous requests with the same ID can lead to
                            race conditions. Ensuring thread safety and consistent behavior across concurrent operations
                            requires careful design.</span></p>
                </li>
                <li style="margin:8px 0 0 32px">
                    <p
                        style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                        <strong>Partial Failures</strong><span>: Operations that involve multiple steps (for example.,
                            updating a database and sending a notification) can fail midway. Designing rollback
                            mechanisms or ensuring eventual consistency is critical to maintaining idempotency.</span>
                    </p>
                </li>
                <li style="margin:8px 0 0 32px">
                    <p
                        style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                        <strong>State Management</strong><span>: Keeping track of processed requests or resource states
                            (for example, using a database or cache) is necessary for idempotency but can introduce
                            performance overhead or require additional infrastructure.</span></p>
                </li>
                <li style="margin:8px 0 0 32px">
                    <p
                        style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                        <strong>Cache Expiry</strong><span>: When using distributed caches (such as Redis) to track
                            idempotency keys, managing cache expiration becomes crucial. Expired keys might lead to
                            duplicate processing if the client retries a request after evicting the key.</span></p>
                </li>
            </ul>
            <h2
                style="font-family:'SF Pro Display',-apple-system-headline,system-ui,-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Helvetica,Arial,sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:bold;margin:1em 0 0.625em 0;color:rgb(54,55,55);line-height:1.16em;font-size:1.625em">
                Strategies to Implement Idempotency</h2>
            <p style="margin:0 0 20px 0;color:rgb(54,55,55);line-height:26px;font-size:16px">Let us look at some of the
                main strategies to implement idempotency in our applications.</p>
            <h3
                style="font-family:'SF Pro Display',-apple-system-headline,system-ui,-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Helvetica,Arial,sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:bold;margin:1em 0 0.625em 0;color:rgb(54,55,55);line-height:1.16em;font-size:1.375em">
                1 - Database Unique Constraints</h3>
            <p style="margin:0 0 20px 0;color:rgb(54,55,55);line-height:26px;font-size:16px">Database unique constraints
                are one of the most straightforward and reliable methods for implementing idempotency in APIs.&nbsp;</p>
            <p style="margin:0 0 20px 0;color:rgb(54,55,55);line-height:26px;font-size:16px">By enforcing uniqueness on
                specific fields, such as a transaction_id or request_id, we can ensure that duplicate operations are
                prevented at the database level.</p>
            <p style="margin:0 0 20px 0;color:rgb(54,55,55);line-height:26px;font-size:16px">See the diagram below that
                shows how a database unique constraint can work to support idempotency.</p>
            <div style="font-size:16px;line-height:26px;margin:32px auto">
                <figure style="width:100%;margin:0 auto">
                    <table width="100%" border="0" cellspacing="0" cellpadding="0">
                        <tbody>
                            <tr>
                                <td style="text-align:center"></td>
                                <td align="left" width="1456" style="text-align:center"><a rel=""
                                        href="https://substack.com/redirect/7efe3fca-8f05-4503-a048-68d1c589aa13?j=eyJ1IjoiNHczYmJyIn0.8e0w4-0q-RFN6irgmuQiCn0Z5qrzGdYTlhlmUSeaY-s"
                                        style="padding:0;width:auto;height:auto;border:none;text-decoration:none;display:block;margin:0"
                                        target="_blank"
                                        data-saferedirecturl="https://www.google.com/url?q=https://substack.com/redirect/7efe3fca-8f05-4503-a048-68d1c589aa13?j%3DeyJ1IjoiNHczYmJyIn0.8e0w4-0q-RFN6irgmuQiCn0Z5qrzGdYTlhlmUSeaY-s&amp;source=gmail&amp;ust=1755478772679000&amp;usg=AOvVaw3p81FopzTfmOfQ3gVYwhQV"><img
                                            alt="" width="550" height="394.7458791208791"
                                            src="https://ci3.googleusercontent.com/meips/ADKq_Nbaj7WN76fmjYTZb3fj9Lg_WUnQT83kgKpelpizua9y-n6J18VdHdsorGYDvcGv7dLNYR_4DIFM_ZFRdXk6qhocMTVqxGuqyh27OvhAlPlOL_1FbdmOPrlVB4s9YakX_wBEN3FE2BPKHAVohTMwKPZU4uoBE36-pHG_k9CkH410iFOYJmTTy-CfLOmf-9-FrrWqrdmSB6_BY0t9UM3X7q-zideIM7cuft6YIvOVotvMX5SNxzMQdekrkYBZCClQcmRGFf_0c1ADPMgaYWY_0_3uyYdhz8QqGuFS3634hdemT2qsNugyDNmhRzs=s0-d-e1-ft#https://substackcdn.com/image/fetch/w_1100,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Faf62c1ae-1dd4-49c0-9437-811349eb18da_1600x1148.png"
                                            style="border:none!important;vertical-align:middle;display:block;height:auto;margin-bottom:0;width:auto!important;max-width:100%!important;margin:0 auto"
                                            class="CToWUd" data-bit="iit"></a></td>
                                <td style="text-align:center"></td>
                            </tr>
                        </tbody>
                    </table>
                </figure>
            </div>
            <p style="margin:0 0 20px 0;color:rgb(54,55,55);line-height:26px;font-size:16px">Hereâ€™s how the process
                works on a step-by-step level:</p>
            <ul style="margin-top:0;padding:0">
                <li style="margin:8px 0 0 32px">
                    <p
                        style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                        <strong>Design the Schema: </strong><span>Add a field to your database table to store a unique
                            identifier for each operation. This could be a transaction_id, request_id, or any other
                            unique key. Here, transaction_id is enforced as a unique key.</span></p>
                </li>
                <li style="margin:8px 0 0 32px">
                    <p
                        style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                        <strong>Generate Unique Identifiers: </strong><span>Clients or the server generate a unique
                            identifier for each API request (for example, UUID or a hash of the request payload). This
                            identifier is included in the request payload and saved in the database during the
                            operation.</span></p>
                </li>
                <li style="margin:8px 0 0 32px">
                    <p
                        style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                        <strong>Database Validation: </strong><span>When the API receives a request, it attempts to
                            insert the data along with the transaction_id into the database. If the transaction_id
                            already exists, the database throws a constraint violation error, which the API can handle
                            gracefully by returning the same result as the initial operation.</span></p>
                </li>
                <li style="margin:8px 0 0 32px">
                    <p
                        style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                        <strong>API Response: </strong><span>If the operation is new, the API processes it normally and
                            returns a successful response. If the operation is duplicated (due to a retry or duplicate
                            request), the API catches the database error and returns the same response as the original
                            request.</span></p>
                </li>
            </ul>
            <p style="margin:0 0 20px 0;color:rgb(54,55,55);line-height:26px;font-size:16px">See the sample below for
                creating a table with transaction_id as a unique field.</p>
            <pre style="background:#eeeeee;padding:16px;margin:32px 0;border-radius:8px;box-sizing:border-box"><code style="white-space:pre-wrap;font-size:16px;line-height:20px;font-weight:500">CREATE TABLE orders (
&nbsp;&nbsp;&nbsp;&nbsp;id SERIAL PRIMARY KEY,
&nbsp;&nbsp;&nbsp;&nbsp;user_id INT NOT NULL,
&nbsp;&nbsp;&nbsp;&nbsp;product_id INT NOT NULL,
&nbsp;&nbsp;&nbsp;&nbsp;quantity INT NOT NULL,
&nbsp;&nbsp;&nbsp;&nbsp;transaction_id UUID UNIQUE NOT NULL,
&nbsp;&nbsp;&nbsp;&nbsp;created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);</code></pre>
            <p style="margin:0 0 20px 0;color:rgb(54,55,55);line-height:26px;font-size:16px">The advantages of using the
                database constraints approach are as follows:</p>
            <ul style="margin-top:0;padding:0">
                <li style="margin:8px 0 0 32px">
                    <p
                        style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                        <strong>Simplicity:</strong><span> Relies on database features familiar to most developers and
                            do not require additional infrastructure.</span></p>
                </li>
                <li style="margin:8px 0 0 32px">
                    <p
                        style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                        <strong>Reliability:</strong><span> The database guarantees consistency and prevents duplicates
                            through the unique constraint.</span></p>
                </li>
                <li style="margin:8px 0 0 32px">
                    <p
                        style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                        <strong>Strong Consistency:</strong><span> Since the database enforces uniqueness, the API does
                            not need to maintain a state for deduplication.</span></p>
                </li>
                <li style="margin:8px 0 0 32px">
                    <p
                        style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                        <strong>Ease of Implementation:</strong><span> Requires minimal additional coding beyond adding
                            the unique key and handling constraint violation errors.</span></p>
                </li>
            </ul>
            <p style="margin:0 0 20px 0;color:rgb(54,55,55);line-height:26px;font-size:16px">The disadvantages or
                challenges with this approach are as follows:</p>
            <ul style="margin-top:0;padding:0">
                <li style="margin:8px 0 0 32px">
                    <p
                        style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                        <strong>Performance Bottlenecks</strong><span>: While modern databases are highly optimized for
                            handling unique constraints. However, in extremely high-traffic systems with frequent
                            writes, unique constraints can result in performance problems.&nbsp;</span></p>
                </li>
                <li style="margin:8px 0 0 32px">
                    <p
                        style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                        <strong>Scalability Challenges</strong><span>: In distributed databases, enforcing uniqueness
                            across nodes can add latency or require global coordination.</span></p>
                </li>
                <li style="margin:8px 0 0 32px">
                    <p
                        style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                        <strong>Complex Error Handling</strong><span>: The API must handle database constraint
                            violations gracefully and return meaningful responses to clients.</span></p>
                </li>
            </ul>
            <h3
                style="font-family:'SF Pro Display',-apple-system-headline,system-ui,-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Helvetica,Arial,sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:bold;margin:1em 0 0.625em 0;color:rgb(54,55,55);line-height:1.16em;font-size:1.375em">
                2 - In-Memory Tracking</h3>
            <p style="margin:0 0 20px 0;color:rgb(54,55,55);line-height:26px;font-size:16px">In-memory tracking is a
                lightweight and straightforward method to implement idempotency.</p>
            <p style="margin:0 0 20px 0;color:rgb(54,55,55);line-height:26px;font-size:16px">It involves maintaining a
                data structure in memory (for example, a hash map or set) to store unique identifiers for processed
                requests. Before processing a new request, the system checks this in-memory store to determine whether
                the request has already been handled.</p>
            <div style="font-size:16px;line-height:26px;margin:32px auto">
                <figure style="width:100%;margin:0 auto">
                    <table width="100%" border="0" cellspacing="0" cellpadding="0">
                        <tbody>
                            <tr>
                                <td style="text-align:center"></td>
                                <td align="left" width="1456" style="text-align:center"><a rel=""
                                        href="https://substack.com/redirect/58fbdc4e-2e11-422a-bd13-19fdb456364e?j=eyJ1IjoiNHczYmJyIn0.8e0w4-0q-RFN6irgmuQiCn0Z5qrzGdYTlhlmUSeaY-s"
                                        style="padding:0;width:auto;height:auto;border:none;text-decoration:none;display:block;margin:0"
                                        target="_blank"
                                        data-saferedirecturl="https://www.google.com/url?q=https://substack.com/redirect/58fbdc4e-2e11-422a-bd13-19fdb456364e?j%3DeyJ1IjoiNHczYmJyIn0.8e0w4-0q-RFN6irgmuQiCn0Z5qrzGdYTlhlmUSeaY-s&amp;source=gmail&amp;ust=1755478772679000&amp;usg=AOvVaw2VzJfutQSXA2loCR_fmSo6"><img
                                            alt="" width="550" height="330.52884615384613"
                                            src="https://ci3.googleusercontent.com/meips/ADKq_NYbZxvNpAB4XAwlyReJ5YRWLtdKXJiLuBjuzDk_YnCwRIdDDgJYnXrXCSNQI6MAQGnQ4wBOkTov-j8zbk9wjHj07fi90G_uuu3-N8rxlcG13yNJAcHhxRYvrBEy__mhj8EhozKfNfqRdBwo572i0a4f5QmvTvCdkCVvqQTtSIBfuLa2wGa4-2moPm6rcV3HByKdrBXv8HhtxqVvM0Ez4IGXFKwrKySGTPw-lonrEwiCCL8UZ8O2ZUEnG99pA9HzP6FYDh4h701hesZxy3-6ALcjcn3oWEHSut5XCb_-46DyObXjQeGyCyLTow=s0-d-e1-ft#https://substackcdn.com/image/fetch/w_1100,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8e2c61bc-8254-4e61-a34c-b39652c7efb3_1600x961.png"
                                            style="border:none!important;vertical-align:middle;display:block;height:auto;margin-bottom:0;width:auto!important;max-width:100%!important;margin:0 auto"
                                            class="CToWUd" data-bit="iit"></a></td>
                                <td style="text-align:center"></td>
                            </tr>
                        </tbody>
                    </table>
                </figure>
            </div>
            <p style="margin:0 0 20px 0;color:rgb(54,55,55);line-height:26px;font-size:16px">Hereâ€™s how it works in a
                step-by-step manner:</p>
            <ul style="margin-top:0;padding:0">
                <li style="margin:8px 0 0 32px">
                    <p
                        style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                        <strong>Generate a Unique Identifier: </strong><span>The client or server generates a unique
                            identifier for each API request. Common choices include UUIDs or hashes derived from the
                            request payload.</span></p>
                </li>
                <li style="margin:8px 0 0 32px">
                    <p
                        style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                        <strong>Initialize the In-Memory Store: </strong><span>Use a data structure like a hash map
                            (dictionary) or a set to store processed request IDs.</span></p>
                </li>
                <li style="margin:8px 0 0 32px">
                    <p
                        style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                        <strong>Check the In-Memory Store: </strong><span>When the API receives a new request, it first
                            checks if the transaction_id exists in the in-memory store. If the ID is found, the request
                            has already been processed. The system can skip reprocessing and return the same response as
                            before.</span></p>
                </li>
                <li style="margin:8px 0 0 32px">
                    <p
                        style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                        <strong>Process the Request:</strong><span> If the ID is not found, process the request normally
                            and store the transaction_id in the in-memory store after successful completion.</span></p>
                </li>
                <li style="margin:8px 0 0 32px">
                    <p
                        style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                        <strong>Return the Response: </strong><span>Return the response to the client, ensuring that if
                            the same request is received again, the system can respond consistently without
                            reprocessing.</span></p>
                </li>
            </ul>
            <p style="margin:0 0 20px 0;color:rgb(54,55,55);line-height:26px;font-size:16px">This technique to implement
                idempotency is best suited for:</p>
            <ul style="margin-top:0;padding:0">
                <li style="margin:8px 0 0 32px">
                    <p
                        style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                        <strong>Short-lived Services</strong><span>: APIs with a limited lifespan where request history
                            does not need to persist beyond the service's runtime.</span></p>
                </li>
                <li style="margin:8px 0 0 32px">
                    <p
                        style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                        <strong>Single-Node Environments</strong><span>: Services deployed on a single instance that do
                            not require state sharing.</span></p>
                </li>
                <li style="margin:8px 0 0 32px">
                    <p
                        style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                        <strong>Low-Traffic APIs</strong><span>: Systems where the number of unique requests is small
                            enough to fit comfortably in memory.</span></p>
                </li>
            </ul>
            <p style="margin:0 0 20px 0;color:rgb(54,55,55);line-height:26px;font-size:16px">The advantages of the
                in-memory tracking approach are as follows:</p>
            <ul style="margin-top:0;padding:0">
                <li style="margin:8px 0 0 32px">
                    <p
                        style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                        <strong>Simplicity:</strong><span> Easy to implement using standard data structures. There is no
                            need for external dependencies or infrastructure.</span></p>
                </li>
                <li style="margin:8px 0 0 32px">
                    <p
                        style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                        <strong>Performance:</strong><span> Lookups and inserts in in-memory data structures are fast,
                            making this method highly efficient for low-latency applications.</span></p>
                </li>
                <li style="margin:8px 0 0 32px">
                    <p
                        style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                        <strong>No Additional Infrastructure:</strong><span> Suitable for small-scale or short-lived
                            services that do not require the complexity of external systems like databases or
                            distributed caches.</span></p>
                </li>
                <li style="margin:8px 0 0 32px">
                    <p
                        style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                        <strong>Ideal for Single-Node Services:</strong><span> Works well in environments where the
                            service is deployed on a single node and does not need to share state with other
                            instances.</span></p>
                </li>
            </ul>
            <p style="margin:0 0 20px 0;color:rgb(54,55,55);line-height:26px;font-size:16px">However, this approach also
                has some limitations:</p>
            <ul style="margin-top:0;padding:0">
                <li style="margin:8px 0 0 32px">
                    <p
                        style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                        <strong>Volatility</strong><span>: Data is stored in memory, so it is lost if the service
                            restarts or crashes. This can lead to duplicate processing in such scenarios.</span></p>
                </li>
                <li style="margin:8px 0 0 32px">
                    <p
                        style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                        <strong>Limited Scalability</strong><span>: In-memory tracking is unsuitable for distributed
                            systems where multiple service instances are running. Synchronizing state across nodes would
                            require additional coordination mechanisms.</span></p>
                </li>
                <li style="margin:8px 0 0 32px">
                    <p
                        style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                        <strong>Memory Constraints</strong><span>: The size of the in-memory store is limited by the
                            system's available memory. High-traffic or long-lived services may require more storage than
                            memory can provide.</span></p>
                </li>
                <li style="margin:8px 0 0 32px">
                    <p
                        style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                        <strong>Concurrency Challenges</strong><span>: Proper synchronization is required in
                            multi-threaded environments to prevent race conditions when accessing the in-memory
                            store.</span></p>
                </li>
                <li style="margin:8px 0 0 32px">
                    <p
                        style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                        <strong>TTL Management</strong><span>: Without a mechanism to expire old entries, the in-memory
                            store can grow indefinitely, leading to memory exhaustion. Implementing a TTL (time-to-live)
                            for each entry adds complexity.</span></p>
                </li>
            </ul>
            <h3
                style="font-family:'SF Pro Display',-apple-system-headline,system-ui,-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Helvetica,Arial,sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:bold;margin:1em 0 0.625em 0;color:rgb(54,55,55);line-height:1.16em;font-size:1.375em">
                3 - Using a Distributed Cache Like Redis</h3>
            <p style="margin:0 0 20px 0;color:rgb(54,55,55);line-height:26px;font-size:16px">Redis, a high-performance
                in-memory data store, can be used to implement idempotency in APIs by tracking processed request
                IDs.&nbsp;</p>
            <p style="margin:0 0 20px 0;color:rgb(54,55,55);line-height:26px;font-size:16px">By storing a unique
                identifier (for example, transaction_id or request_id) for each API request in Redis, we can check for
                duplicates before processing a request. This ensures that even if the same request is retried, it is
                processed only once.</p>
            <p style="margin:0 0 20px 0;color:rgb(54,55,55);line-height:26px;font-size:16px">See the diagram below:</p>
            <div style="font-size:16px;line-height:26px;margin:32px auto">
                <figure style="width:100%;margin:0 auto">
                    <table width="100%" border="0" cellspacing="0" cellpadding="0">
                        <tbody>
                            <tr>
                                <td style="text-align:center"></td>
                                <td align="left" width="1456" style="text-align:center"><a rel=""
                                        href="https://substack.com/redirect/948650f7-d316-4078-922f-e2d62568dafd?j=eyJ1IjoiNHczYmJyIn0.8e0w4-0q-RFN6irgmuQiCn0Z5qrzGdYTlhlmUSeaY-s"
                                        style="padding:0;width:auto;height:auto;border:none;text-decoration:none;display:block;margin:0"
                                        target="_blank"
                                        data-saferedirecturl="https://www.google.com/url?q=https://substack.com/redirect/948650f7-d316-4078-922f-e2d62568dafd?j%3DeyJ1IjoiNHczYmJyIn0.8e0w4-0q-RFN6irgmuQiCn0Z5qrzGdYTlhlmUSeaY-s&amp;source=gmail&amp;ust=1755478772679000&amp;usg=AOvVaw12redVmz32o9dvdMNn7Itu"><img
                                            alt="" width="550" height="330.52884615384613"
                                            src="https://ci3.googleusercontent.com/meips/ADKq_NYfOMmcOzajpwIgVv344Wfn0HxhZVuilMCLP5tVHu-DKoyjEytXE9KFFj3LQaCFNShZ4SN8keSLAQwsKyoiO-msAVTgjx3zXFeP6-00TLUkfkMGkAaOMWTtxEmjHnv75PzXl2bPepDxnsTnu07BNv30b0ZHf8sCUuLzmo-58CxbQCTZNZU3SEoN309NFWRNJ23jcv7rnW9fsIXSSx7dQaXJiWJNbrCFwnvOLlRRBBYPvwG-rDwOibw9tFp7H_Pqu9P2KEwFUWBKhNlVRoYp2EVWHjYgl47xZCnw3KHwrWOad2ncRTU1VDb3_g=s0-d-e1-ft#https://substackcdn.com/image/fetch/w_1100,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fad1f0bee-fb22-4490-ae95-5708c8a198f7_1600x961.png"
                                            style="border:none!important;vertical-align:middle;display:block;height:auto;margin-bottom:0;width:auto!important;max-width:100%!important;margin:0 auto"
                                            class="CToWUd" data-bit="iit"></a></td>
                                <td style="text-align:center"></td>
                            </tr>
                        </tbody>
                    </table>
                </figure>
            </div>
            <p style="margin:0 0 20px 0;color:rgb(54,55,55);line-height:26px;font-size:16px">Hereâ€™s how the process
                works in a step-by-step manner:</p>
            <ul style="margin-top:0;padding:0">
                <li style="margin:8px 0 0 32px">
                    <p
                        style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                        <strong>Generate a Unique Identifier:</strong><span> A client or server generates a unique
                            identifier for each API request. This could be a UUID or a hash of the request
                            payload.</span></p>
                </li>
                <li style="margin:8px 0 0 32px">
                    <p
                        style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                        <strong>Store the Request ID in Redis: </strong><span>When the API receives a request, it first
                            checks if the request_id exists in Redis. If the ID does not exist, the server processes the
                            request and stores the ID in Redis with a time-to-live (TTL) value. Redis provides atomic
                            commands for this such as SETNX (Set If Not Exists) that sets the key if it does not already
                            exist.&nbsp;</span></p>
                </li>
            </ul>
            <p style="margin:0 0 20px 0;color:rgb(54,55,55);line-height:26px;font-size:16px">Using Redis to handle
                idempotency is effective in the below scenarios:</p>
            <ul style="margin-top:0;padding:0">
                <li style="margin:8px 0 0 32px">
                    <p
                        style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                        <strong>Stateless Microservices</strong><span>: In distributed systems, stateless services rely
                            on external systems like Redis to maintain the state across multiple nodes.</span></p>
                </li>
                <li style="margin:8px 0 0 32px">
                    <p
                        style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                        <strong>High-Traffic APIs</strong><span>: Redisâ€™s low latency ensures minimal performance
                            overhead, even for APIs handling large volumes of requests.</span></p>
                </li>
                <li style="margin:8px 0 0 32px">
                    <p
                        style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                        <strong>Distributed Systems</strong><span>: Redis operates as a centralized store accessible by
                            all instances of a service, making it ideal for ensuring idempotency across distributed
                            environments.</span></p>
                </li>
                <li style="margin:8px 0 0 32px">
                    <p
                        style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                        <strong>Temporary Operations</strong><span>: For operations where idempotency is required only
                            for a limited time, Redisâ€™s TTL feature is perfect for automatic cleanup.</span></p>
                </li>
            </ul>
            <p style="margin:0 0 20px 0;color:rgb(54,55,55);line-height:26px;font-size:16px">The advantages of using
                Redis are as follows:</p>
            <ul style="margin-top:0;padding:0">
                <li style="margin:8px 0 0 32px">
                    <p
                        style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                        <strong>High Performance</strong><span>: Redis provides high-speed read and write operations,
                            ensuring minimal latency for API requests.</span></p>
                </li>
                <li style="margin:8px 0 0 32px">
                    <p
                        style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                        <strong>Atomic Operations</strong><span>: Commands like SETNX and EXPIRE are atomic, ensuring
                            thread-safe and race-condition-free behavior.</span></p>
                </li>
                <li style="margin:8px 0 0 32px">
                    <p
                        style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                        <strong>Scalability</strong><span>: Redis supports clustering, making it suitable for
                            distributed systems and high-traffic environments.</span></p>
                </li>
                <li style="margin:8px 0 0 32px">
                    <p
                        style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                        <strong>TTL Management</strong><span>: Automatic expiration of keys prevents memory bloat and
                            eliminates the need for manual cleanup.</span></p>
                </li>
                <li style="margin:8px 0 0 32px">
                    <p
                        style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                        <strong>Simplicity</strong><span>: Redisâ€™s straightforward API makes it easy to integrate with
                            applications.</span></p>
                </li>
            </ul>
            <p style="margin:0 0 20px 0;color:rgb(54,55,55);line-height:26px;font-size:16px">The disadvantages are as
                follows:</p>
            <ul style="margin-top:0;padding:0">
                <li style="margin:8px 0 0 32px">
                    <p
                        style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                        <strong>Dependency on External Infrastructure</strong><span>: Requires setting up and managing a
                            Redis instance or cluster, adding operational complexity.</span></p>
                </li>
                <li style="margin:8px 0 0 32px">
                    <p
                        style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                        <strong>Memory Constraints</strong><span>: Redis stores data in memory, so the size of the
                            idempotency store is limited by the available memory. High-traffic systems may require
                            significant resources.</span></p>
                </li>
                <li style="margin:8px 0 0 32px">
                    <p
                        style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                        <strong>Key Expiry Trade-Off</strong><span>: Setting a TTL too short can lead to duplicate
                            requests being processed if retries occur after the key expires. Setting it too long can
                            waste memory.</span></p>
                </li>
                <li style="margin:8px 0 0 32px">
                    <p
                        style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                        <strong>Failure Scenarios</strong><span>: If the Redis instance crashes or becomes unavailable,
                            idempotency tracking may fail unless additional redundancy mechanisms exist.</span></p>
                </li>
            </ul>
            <h3
                style="font-family:'SF Pro Display',-apple-system-headline,system-ui,-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Helvetica,Arial,sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:bold;margin:1em 0 0.625em 0;color:rgb(54,55,55);line-height:1.16em;font-size:1.375em">
                4 - Using Message Duplicate Detection</h3>
            <p style="margin:0 0 20px 0;color:rgb(54,55,55);line-height:26px;font-size:16px">In event-driven systems,
                ensuring idempotency is essential to prevent processing the same message multiple times, especially when
                retries are involved.&nbsp;</p>
            <p style="margin:0 0 20px 0;color:rgb(54,55,55);line-height:26px;font-size:16px">Message brokers like Azure
                Service Bus, RabbitMQ, and others offer built-in duplicate detection mechanisms that rely on unique
                message identifiers (MessageId) and time windows to discard duplicates automatically.</p>
            <p style="margin:0 0 20px 0;color:rgb(54,55,55);line-height:26px;font-size:16px">See the screenshot below
                that shows how to enable duplicate detection while creating a queue in Azure Service Bus.</p>
            <div style="font-size:16px;line-height:26px;margin:32px auto">
                <figure style="width:100%;margin:0 auto">
                    <table width="100%" border="0" cellspacing="0" cellpadding="0">
                        <tbody>
                            <tr>
                                <td style="text-align:center"></td>
                                <td align="left" width="435" style="text-align:center"><a rel=""
                                        href="https://substack.com/redirect/97e280f9-3ad3-4943-a927-bee569bb0c99?j=eyJ1IjoiNHczYmJyIn0.8e0w4-0q-RFN6irgmuQiCn0Z5qrzGdYTlhlmUSeaY-s"
                                        style="padding:0;width:auto;height:auto;border:none;text-decoration:none;display:block;margin:0"
                                        target="_blank"
                                        data-saferedirecturl="https://www.google.com/url?q=https://substack.com/redirect/97e280f9-3ad3-4943-a927-bee569bb0c99?j%3DeyJ1IjoiNHczYmJyIn0.8e0w4-0q-RFN6irgmuQiCn0Z5qrzGdYTlhlmUSeaY-s&amp;source=gmail&amp;ust=1755478772679000&amp;usg=AOvVaw3gvD8zL84II-DEa9ziauIG"><img
                                            alt="" width="435" height="898"
                                            src="https://ci3.googleusercontent.com/meips/ADKq_NZmrmFpCD7xa_1zSsSSd6gP1EaelZIHE4N3EY9pHp9ugXWCxM8D6gEdwPl7aCMDyUy4GdE6vUxGWeNN7ZvPLTBf_Vk_1zqvS60JNUYaM0R5biFPqWLHzitJMGaOziYWO6CIAxI_-nIQQMJZTgJ9-Hg8-PAep0L79ogLjkkT7GWuotv0JIuqoIxV5_RAK22DI--k60zxi1Q7byfL8ZdikFnBPQHnew4-24mIhQKkitu2CLHBFFjuBdlRrAPXrBbfDEsS3cQP-dpCnsf-7wl3sCY4YPeOLoMi03KXuc2ErWug5dIKtm6RQ2E=s0-d-e1-ft#https://substackcdn.com/image/fetch/w_435,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8d914ffc-808f-4ad6-9ced-857f99db9045_435x898.png"
                                            style="border:none!important;vertical-align:middle;display:block;height:auto;margin-bottom:0;width:auto!important;max-width:100%!important;margin:0 auto"
                                            class="CToWUd" data-bit="iit"></a></td>
                                <td style="text-align:center"></td>
                            </tr>
                        </tbody>
                    </table>
                    <figcaption
                        style="box-sizing:content-box;color:#777777;font-size:14px;line-height:20px;font-weight:400;letter-spacing:-.15px;margin-top:8px;width:70%;padding-left:15%;padding-right:15%;text-align:center">
                        <span>Source: </span><a
                            href="https://substack.com/redirect/f90cc4d8-e3f4-4ee5-9c13-de7dbd178fd4?j=eyJ1IjoiNHczYmJyIn0.8e0w4-0q-RFN6irgmuQiCn0Z5qrzGdYTlhlmUSeaY-s"
                            rel="" style="text-decoration:underline" target="_blank"
                            data-saferedirecturl="https://www.google.com/url?q=https://substack.com/redirect/f90cc4d8-e3f4-4ee5-9c13-de7dbd178fd4?j%3DeyJ1IjoiNHczYmJyIn0.8e0w4-0q-RFN6irgmuQiCn0Z5qrzGdYTlhlmUSeaY-s&amp;source=gmail&amp;ust=1755478772679000&amp;usg=AOvVaw0rp3gPqUIRoFmCndTfx7H4">Microsoft
                            Learning Center </a></figcaption>
                </figure>
            </div>
            <p style="margin:0 0 20px 0;color:rgb(54,55,55);line-height:26px;font-size:16px">Hereâ€™s how the process
                works:</p>
            <ul style="margin-top:0;padding:0">
                <li style="margin:8px 0 0 32px">
                    <p
                        style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                        <strong>Unique Message Identifiers: </strong><span>Each message sent to the broker is assigned a
                            unique MessageId. If a message with the same MessageId is received within a specified time
                            window, the broker identifies it as a duplicate and discards it.</span></p>
                </li>
                <li style="margin:8px 0 0 32px">
                    <p
                        style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                        <strong>Time Windows: </strong><span>The broker maintains a history of processed MessageIds for
                            a configurable time window (for example, 15 seconds, 5 minutes, or something
                            else)</span><strong>.</strong></p>
                </li>
                <li style="margin:8px 0 0 32px">
                    <p
                        style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                        <strong>Deduplication: </strong><span>Upon receiving a message, the broker checks its MessageId
                            against the history. If the ID exists within the time window, the broker discards the
                            message. However, if the ID is new, the message is processed, and the ID is added to the
                            history.</span></p>
                </li>
            </ul>
            <div style="font-size:16px;line-height:26px;margin:32px auto">
                <figure style="width:100%;margin:0 auto">
                    <table width="100%" border="0" cellspacing="0" cellpadding="0">
                        <tbody>
                            <tr>
                                <td style="text-align:center"></td>
                                <td align="left" width="1456" style="text-align:center"><a rel=""
                                        href="https://substack.com/redirect/8abc62fa-ec6d-48c1-80db-85e60f4f0795?j=eyJ1IjoiNHczYmJyIn0.8e0w4-0q-RFN6irgmuQiCn0Z5qrzGdYTlhlmUSeaY-s"
                                        style="padding:0;width:auto;height:auto;border:none;text-decoration:none;display:block;margin:0"
                                        target="_blank"
                                        data-saferedirecturl="https://www.google.com/url?q=https://substack.com/redirect/8abc62fa-ec6d-48c1-80db-85e60f4f0795?j%3DeyJ1IjoiNHczYmJyIn0.8e0w4-0q-RFN6irgmuQiCn0Z5qrzGdYTlhlmUSeaY-s&amp;source=gmail&amp;ust=1755478772679000&amp;usg=AOvVaw0ePw7QNOFFB-XaLtNz4auI"><img
                                            alt="" width="550" height="329.01785714285717"
                                            src="https://ci3.googleusercontent.com/meips/ADKq_Nb1Vxx5o-LkDUnLAjwkJwsp7c2NtHcAJXtudGRJHbKKiYnpyahoDhtsKVdq8QUSreUdVdKekJIxseLeLXhsANFIsUxa97540Y53V1hNViBx3trq3y0OI1bxrM7FgCwWz017NWeXajf1sKAZF_ErhIGVyTMVzyE9ZqqcnSovIysJqG2hhA3NHC31X4r6wUSv_XTDXSUeByMJ2gvz4qvuPNYxscSfWbJX5cVYB8LXwp46HwPDWS8bGjLHIymBvyDbj__X_w1SwxV9y_spItqA1OKXZsPF2GYsSLw39q2G6q_OA0xZoVw8T8_XJw=s0-d-e1-ft#https://substackcdn.com/image/fetch/w_1100,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe4553647-5252-4c7f-96ab-5205b4dc53f8_1600x957.png"
                                            style="border:none!important;vertical-align:middle;display:block;height:auto;margin-bottom:0;width:auto!important;max-width:100%!important;margin:0 auto"
                                            class="CToWUd" data-bit="iit"></a></td>
                                <td style="text-align:center"></td>
                            </tr>
                        </tbody>
                    </table>
                </figure>
            </div>
            <p style="margin:0 0 20px 0;color:rgb(54,55,55);line-height:26px;font-size:16px">The message duplicate
                detection approach is most effective in the following scenarios:</p>
            <ul style="margin-top:0;padding:0">
                <li style="margin:8px 0 0 32px">
                    <p
                        style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                        <strong>Event-Driven Systems</strong><span>: Ensuring consistent processing of events in
                            distributed, asynchronous architectures.</span></p>
                </li>
                <li style="margin:8px 0 0 32px">
                    <p
                        style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                        <strong>High-Throughput Environments</strong><span>: Handling large volumes of messages where
                            performance and scalability are critical.</span></p>
                </li>
                <li style="margin:8px 0 0 32px">
                    <p
                        style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                        <strong>Distributed Consumers</strong><span>: Managing idempotency across multiple consumers of
                            a queue or topic.</span></p>
                </li>
                <li style="margin:8px 0 0 32px">
                    <p
                        style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                        <strong>Stateless Microservices</strong><span>: Ideal for stateless systems that rely on the
                            broker for message tracking.</span></p>
                </li>
            </ul>
            <p style="margin:0 0 20px 0;color:rgb(54,55,55);line-height:26px;font-size:16px">The benefits of this
                approach are as follows:</p>
            <ul style="margin-top:0;padding:0">
                <li style="margin:8px 0 0 32px">
                    <p
                        style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                        <strong>Simplified Application Logic</strong><span>: Offloads idempotency management to the
                            broker, reducing the complexity of application code.</span></p>
                </li>
                <li style="margin:8px 0 0 32px">
                    <p
                        style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                        <strong>Scalability</strong><span>: Designed for high-throughput systems, ensuring consistent
                            behavior even with large volumes of messages.</span></p>
                </li>
                <li style="margin:8px 0 0 32px">
                    <p
                        style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                        <strong>Performance</strong><span>: Deduplication at the messaging layer is fast, minimizing
                            latency for downstream consumers.</span></p>
                </li>
                <li style="margin:8px 0 0 32px">
                    <p
                        style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                        <strong>Distributed Support</strong><span>: Brokers like Azure Service Bus and RabbitMQ support
                            distributed environments, ensuring consistency across multiple consumers.</span></p>
                </li>
            </ul>
            <p style="margin:0 0 20px 0;color:rgb(54,55,55);line-height:26px;font-size:16px">The limitations or
                challenges of this approach are as follows:</p>
            <ul style="margin-top:0;padding:0">
                <li style="margin:8px 0 0 32px">
                    <p
                        style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                        <strong>Managing Time Window</strong><span>: Deduplication is only guaranteed within the
                            specified time window. If retries occur after the window expires, duplicates may be
                            processed.</span></p>
                </li>
                <li style="margin:8px 0 0 32px">
                    <p
                        style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                        <strong>Infrastructure Dependency</strong><span>: Applications may become reliant on the
                            messaging system for idempotency, increasing dependency on the broker's availability and
                            configuration.</span></p>
                </li>
                <li style="margin:8px 0 0 32px">
                    <p
                        style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                        <strong>Configuration Overhead</strong><span>: Proper setup and tuning (for example, time window
                            size, and history size limits) are required to balance performance and memory usage.</span>
                    </p>
                </li>
                <li style="margin:8px 0 0 32px">
                    <p
                        style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                        <strong>Broker-Specific Features</strong><span>: Deduplication behavior and capabilities vary
                            across brokers, making it challenging to switch between systems without code changes.</span>
                    </p>
                </li>
                <li style="margin:8px 0 0 32px">
                    <p
                        style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                        <strong>Cost</strong><span>: Using advanced broker features like duplicate detection may incur
                            additional costs, particularly in cloud-based solutions like Azure Service Bus.</span></p>
                </li>
            </ul>
            <h3
                style="font-family:'SF Pro Display',-apple-system-headline,system-ui,-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Helvetica,Arial,sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:bold;margin:1em 0 0.625em 0;color:rgb(54,55,55);line-height:1.16em;font-size:1.375em">
                Best Practices for Designing Idempotent APIs</h3>
            <p style="margin:0 0 20px 0;color:rgb(54,55,55);line-height:26px;font-size:16px">Designing idempotent APIs
                requires careful consideration of several factors.&nbsp;</p>
            <div style="font-size:16px;line-height:26px;margin:32px auto">
                <figure style="width:100%;margin:0 auto">
                    <table width="100%" border="0" cellspacing="0" cellpadding="0">
                        <tbody>
                            <tr>
                                <td style="text-align:center"></td>
                                <td align="left" width="1456" style="text-align:center"><a rel=""
                                        href="https://substack.com/redirect/bbcdc64b-640d-4701-92f2-d99775ebb0b3?j=eyJ1IjoiNHczYmJyIn0.8e0w4-0q-RFN6irgmuQiCn0Z5qrzGdYTlhlmUSeaY-s"
                                        style="padding:0;width:auto;height:auto;border:none;text-decoration:none;display:block;margin:0"
                                        target="_blank"
                                        data-saferedirecturl="https://www.google.com/url?q=https://substack.com/redirect/bbcdc64b-640d-4701-92f2-d99775ebb0b3?j%3DeyJ1IjoiNHczYmJyIn0.8e0w4-0q-RFN6irgmuQiCn0Z5qrzGdYTlhlmUSeaY-s&amp;source=gmail&amp;ust=1755478772679000&amp;usg=AOvVaw0fgQurxUe3VrTfTcm6QAA2"><img
                                            alt="" width="550" height="468.02884615384613"
                                            src="https://ci3.googleusercontent.com/meips/ADKq_NYx7irDsx-FDfKHKfxGYnhUydYlJMlbDz3nalvGNEETL0maR0fNi0kntYVjgOy_mAEjJJ_LWTcCj4FGJHTjf0vAjHRSctUM4gs-X__WfglySjz7GssvYZp2hfR7tNZjXVdvp_hCNh7IBWtu15B6Ng2kGtm9AIa6EBHRE7ZaHteXE5Mr_bp5jJROG4qk0r4we2Z9chlak1vK4mATfTj3RTXodoQMkfbxqIp472n850AmNL_u5IMi_k13E_FyJNV0phjz9SLlCny_AHwzn0hXnd53MeIuyz0SFF20QTsrBFvCO3q8_vz3O-oeTwI=s0-d-e1-ft#https://substackcdn.com/image/fetch/w_1100,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ffa9f9679-0be2-408c-aa79-498db3a77484_1600x1361.png"
                                            style="border:none!important;vertical-align:middle;display:block;height:auto;margin-bottom:0;width:auto!important;max-width:100%!important;margin:0 auto"
                                            class="CToWUd" data-bit="iit"></a></td>
                                <td style="text-align:center"></td>
                            </tr>
                        </tbody>
                    </table>
                </figure>
            </div>
            <p style="margin:0 0 20px 0;color:rgb(54,55,55);line-height:26px;font-size:16px">Some best practices worth
                following are as follows:</p>
            <ul style="margin-top:0;padding:0">
                <li style="margin:8px 0 0 32px">
                    <p
                        style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                        <strong>Choose Appropriate Identifiers:</strong><span> Use unique, deterministic identifiers to
                            track requests. Common choices include UUIDs and Hashed Payloads. Unique identifiers prevent
                            duplicate processing and help track requests across retries.</span></p>
                </li>
                <li style="margin:8px 0 0 32px">
                    <p
                        style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                        <strong>Document Idempotency Policies: </strong><span>Clearly document which API endpoints are
                            idempotent and describe their expected behavior. For example, specify that all PUT, DELETE,
                            and some POST requests are idempotent. This ensures that developers understand how to
                            interact with the API and prevent misuse.</span></p>
                </li>
                <li style="margin:8px 0 0 32px">
                    <p
                        style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                        <strong>Set Appropriate TTL for Idempotency Records: </strong><span>Use a TTL for stored
                            idempotency records to balance resource usage and functionality. Short TTLs work for
                            ephemeral operations, like temporary data submissions. Longer TTLs are necessary for
                            operations that may involve retries after significant delays.</span></p>
                </li>
                <li style="margin:8px 0 0 32px">
                    <p
                        style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                        <strong>Implement Logging: </strong><span>Log all idempotency-related events, including request
                            identifiers and timestamps. Also, log the results of idempotency checks and errors
                            encountered during processing or deduplication.</span></p>
                </li>
                <li style="margin:8px 0 0 32px">
                    <p
                        style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                        <strong>Handle Partial Failures: </strong><span>Ensure the system can recover from partial
                            failures, such as network timeouts or service crashes, without breaking idempotency. Use
                            transactional systems or rollback mechanisms to maintain consistency. For example, a payment
                            system ensures funds are either fully transferred or not transferred at all, even in the
                            event of a retry.</span></p>
                </li>
            </ul>
            <h2
                style="font-family:'SF Pro Display',-apple-system-headline,system-ui,-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Helvetica,Arial,sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:bold;margin:1em 0 0.625em 0;color:rgb(54,55,55);line-height:1.16em;font-size:1.625em">
                Summary</h2>
            <p style="margin:0 0 20px 0;color:rgb(54,55,55);line-height:26px;font-size:16px">In this article, we have
                understood the concept of idempotency and explored multiple strategies to implement it in APIs.</p>
            <p style="margin:0 0 20px 0;color:rgb(54,55,55);line-height:26px;font-size:16px">Letâ€™s summarize the key
                learning points in brief:</p>
            <ul style="margin-top:0;padding:0">
                <li style="margin:8px 0 0 32px">
                    <p
                        style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                        Idempotency ensures that repeated API requests produce the same result as a single request.</p>
                </li>
                <li style="margin:8px 0 0 32px">
                    <p
                        style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                        HTTP Methods such as GET, PUT, and DELETE are conventionally idempotent. POST is not but can be
                        designed to behave idempotently.</p>
                </li>
                <li style="margin:8px 0 0 32px">
                    <p
                        style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                        Idempotency is different from retries and poses multiple challenges if not handled properly.</p>
                </li>
                <li style="margin:8px 0 0 32px">
                    <p
                        style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                        There are multiple strategies to implement idempotency in APIs depending on the context.</p>
                </li>
                <li style="margin:8px 0 0 32px">
                    <p
                        style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                        Database Unique Constraints is one of the most basic methods to implement idempotency. This
                        approach uses unique keys with database constraints to prevent duplicate operations.</p>
                </li>
                <li style="margin:8px 0 0 32px">
                    <p
                        style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                        With in-memory tracking, we maintain a data structure in memory to track processed request IDs.
                        This is great for single-node services or short-lived operations.</p>
                </li>
                <li style="margin:8px 0 0 32px">
                    <p
                        style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                        We can also use a distributed cache with Redis to store request IDs with a TTL for
                        deduplication. This is the best choice for stateless microservices and distributed environments.
                    </p>
                </li>
                <li style="margin:8px 0 0 32px">
                    <p
                        style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                        Lastly, we can use message brokers like Azure Service Bus or RabbitMQ to detect duplicates based
                        on unique MessageId and time windows. This approach is suitable for event-driven systems and
                        high-throughput distributed environments.</p>
                </li>
                <li style="margin:8px 0 0 32px">
                    <p
                        style="color:rgb(54,55,55);line-height:26px;margin-bottom:0;box-sizing:border-box;padding-left:4px;font-size:16px;margin:0">
                        There are multiple best practices for designing idempotent APIs, which should be followed for
                        good results.</p>
                </li>
            </ul>
            <p style="margin:0 0 20px 0;color:rgb(54,55,55);line-height:26px;font-size:16px;margin-bottom:0"><br><br>
            </p>
        </div>
    </div>
    <div
        style="margin:32px 0 0;width:100%;box-sizing:border-box;border-top:1px solid #e6e6e6;font-size:16px;line-height:26px">
    </div>
    <div style="font-size:16px;line-height:26px">
        <div style="margin:32px 0;font-size:16px;line-height:26px">
            <div dir="auto"
                style="text-align:initial;font-size:16px;line-height:26px;width:100%;word-break:break-word;margin-bottom:16px">
                <p style="margin:0 0 20px 0;color:rgb(54,55,55);line-height:26px;font-size:16px;margin-top:0"><span>This
                        post is only for premium members of&nbsp;</span><a
                        href="https://substack.com/redirect/5fd4d4c4-9fb7-473a-94ee-172a44133490?j=eyJ1IjoiNHczYmJyIn0.8e0w4-0q-RFN6irgmuQiCn0Z5qrzGdYTlhlmUSeaY-s"
                        rel="" style="color:rgb(54,55,55);text-decoration:underline" target="_blank"
                        data-saferedirecturl="https://www.google.com/url?q=https://substack.com/redirect/5fd4d4c4-9fb7-473a-94ee-172a44133490?j%3DeyJ1IjoiNHczYmJyIn0.8e0w4-0q-RFN6irgmuQiCn0Z5qrzGdYTlhlmUSeaY-s&amp;source=gmail&amp;ust=1755478772680000&amp;usg=AOvVaw3L_ZHZvYd6g-ZSeR7gf__R">the
                        <span class="il"><span class="il"><span class="il"><span
                                        class="il">ByteByteGo</span></span></span></span>
                        newsletter</a><span>.&nbsp;This email is intended for a single recipient, but occasional
                        forwarding is totally fine.</span></p>
                <p style="margin:0 0 20px 0;color:rgb(54,55,55);line-height:26px;font-size:16px"><em>Know someone who
                        would benefit from the newsletter? Consider gifting a subscription.</em></p>
                <p
                    style="margin:0 0 20px 0;color:rgb(54,55,55);line-height:26px;font-size:16px;text-align:center;border-radius:4px">
                    <a rel=""
                        href="https://substack.com/redirect/2/eyJlIjoiaHR0cHM6Ly9ibG9nLmJ5dGVieXRlZ28uY29tL3N1YnNjcmliZT91dG1fc291cmNlPXBvc3QmdXRtX2NhbXBhaWduPWVtYWlsLWNoZWNrb3V0Jm5leHQ9aHR0cHMlM0ElMkYlMkZibG9nLmJ5dGVieXRlZ28uY29tJTJGcCUyRm1hc3RlcmluZy1pZGVtcG90ZW5jeS1idWlsZGluZy1yZWxpYWJsZSZyPTR3M2JiciZ0b2tlbj1leUoxYzJWeVgybGtJam95T1RVM05qY3dOak1zSW1saGRDSTZNVGN6T0RnMk1ESXlNaXdpWlhod0lqb3hOelF4TkRVeU1qSXlMQ0pwYzNNaU9pSndkV0l0T0RFM01UTXlJaXdpYzNWaUlqb2lZMmhsWTJ0dmRYUWlmUS5BVlozOVpVMlMzQ1M1TWZ1YVlrcmtBRTVRYzBFUE1DbGpjLXVkQXVubHNNIiwicCI6MTU1NjAyNzQ0LCJzIjo4MTcxMzIsImYiOmZhbHNlLCJ1IjoyOTU3NjcwNjMsImlhdCI6MTczODg2MDIyMiwiZXhwIjoxNzQxNDUyMjIyLCJpc3MiOiJwdWItMCIsInN1YiI6ImxpbmstcmVkaXJlY3QifQ.4UD69m85c2EtL1_iDe3N21spm63gOmIY1XZNGFJ-m30?&amp;gift=true"
                        style="font-family:system-ui,-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Helvetica,Arial,sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';display:inline-block;box-sizing:border-box;border:none;font-size:14px;line-height:20px;font-weight:600;margin:0;opacity:1;outline:none;white-space:nowrap;color:#ffffff!important;text-decoration:none!important;background-color:#7756e3;text-align:center;border-radius:4px;padding:12px 20px;height:auto"
                        target="_blank"
                        data-saferedirecturl="https://www.google.com/url?q=https://substack.com/redirect/2/eyJlIjoiaHR0cHM6Ly9ibG9nLmJ5dGVieXRlZ28uY29tL3N1YnNjcmliZT91dG1fc291cmNlPXBvc3QmdXRtX2NhbXBhaWduPWVtYWlsLWNoZWNrb3V0Jm5leHQ9aHR0cHMlM0ElMkYlMkZibG9nLmJ5dGVieXRlZ28uY29tJTJGcCUyRm1hc3RlcmluZy1pZGVtcG90ZW5jeS1idWlsZGluZy1yZWxpYWJsZSZyPTR3M2JiciZ0b2tlbj1leUoxYzJWeVgybGtJam95T1RVM05qY3dOak1zSW1saGRDSTZNVGN6T0RnMk1ESXlNaXdpWlhod0lqb3hOelF4TkRVeU1qSXlMQ0pwYzNNaU9pSndkV0l0T0RFM01UTXlJaXdpYzNWaUlqb2lZMmhsWTJ0dmRYUWlmUS5BVlozOVpVMlMzQ1M1TWZ1YVlrcmtBRTVRYzBFUE1DbGpjLXVkQXVubHNNIiwicCI6MTU1NjAyNzQ0LCJzIjo4MTcxMzIsImYiOmZhbHNlLCJ1IjoyOTU3NjcwNjMsImlhdCI6MTczODg2MDIyMiwiZXhwIjoxNzQxNDUyMjIyLCJpc3MiOiJwdWItMCIsInN1YiI6ImxpbmstcmVkaXJlY3QifQ.4UD69m85c2EtL1_iDe3N21spm63gOmIY1XZNGFJ-m30?%26gift%3Dtrue&amp;source=gmail&amp;ust=1755478772680000&amp;usg=AOvVaw02zv650OOgTbVSQouy3s_S"><span
                            style="color:#ffffff;text-decoration:none">Give a gift subscription</span></a></p>
                <p style="margin:0 0 20px 0;color:rgb(54,55,55);line-height:26px;font-size:16px"><em>For group
                        subscriptions</em><span>,&nbsp;click here:</span></p>
                <p
                    style="margin:0 0 20px 0;color:rgb(54,55,55);line-height:26px;font-size:16px;margin-bottom:0;text-align:center;border-radius:4px">
                    <a rel=""
                        href="https://substack.com/redirect/2/eyJlIjoiaHR0cHM6Ly9ibG9nLmJ5dGVieXRlZ28uY29tL3N1YnNjcmliZT91dG1fc291cmNlPXBvc3QmdXRtX2NhbXBhaWduPWVtYWlsLWNoZWNrb3V0Jm5leHQ9aHR0cHMlM0ElMkYlMkZibG9nLmJ5dGVieXRlZ28uY29tJTJGcCUyRm1hc3RlcmluZy1pZGVtcG90ZW5jeS1idWlsZGluZy1yZWxpYWJsZSZyPTR3M2JiciZ0b2tlbj1leUoxYzJWeVgybGtJam95T1RVM05qY3dOak1zSW1saGRDSTZNVGN6T0RnMk1ESXlNaXdpWlhod0lqb3hOelF4TkRVeU1qSXlMQ0pwYzNNaU9pSndkV0l0T0RFM01UTXlJaXdpYzNWaUlqb2lZMmhsWTJ0dmRYUWlmUS5BVlozOVpVMlMzQ1M1TWZ1YVlrcmtBRTVRYzBFUE1DbGpjLXVkQXVubHNNIiwicCI6MTU1NjAyNzQ0LCJzIjo4MTcxMzIsImYiOmZhbHNlLCJ1IjoyOTU3NjcwNjMsImlhdCI6MTczODg2MDIyMiwiZXhwIjoxNzQxNDUyMjIyLCJpc3MiOiJwdWItMCIsInN1YiI6ImxpbmstcmVkaXJlY3QifQ.4UD69m85c2EtL1_iDe3N21spm63gOmIY1XZNGFJ-m30?group=true&amp;coupon=254241e3"
                        style="font-family:system-ui,-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Helvetica,Arial,sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';display:inline-block;box-sizing:border-box;border:none;font-size:14px;line-height:20px;font-weight:600;margin:0;opacity:1;outline:none;white-space:nowrap;color:#ffffff!important;text-decoration:none!important;background-color:#7756e3;text-align:center;border-radius:4px;padding:12px 20px;height:auto"
                        target="_blank"
                        data-saferedirecturl="https://www.google.com/url?q=https://substack.com/redirect/2/eyJlIjoiaHR0cHM6Ly9ibG9nLmJ5dGVieXRlZ28uY29tL3N1YnNjcmliZT91dG1fc291cmNlPXBvc3QmdXRtX2NhbXBhaWduPWVtYWlsLWNoZWNrb3V0Jm5leHQ9aHR0cHMlM0ElMkYlMkZibG9nLmJ5dGVieXRlZ28uY29tJTJGcCUyRm1hc3RlcmluZy1pZGVtcG90ZW5jeS1idWlsZGluZy1yZWxpYWJsZSZyPTR3M2JiciZ0b2tlbj1leUoxYzJWeVgybGtJam95T1RVM05qY3dOak1zSW1saGRDSTZNVGN6T0RnMk1ESXlNaXdpWlhod0lqb3hOelF4TkRVeU1qSXlMQ0pwYzNNaU9pSndkV0l0T0RFM01UTXlJaXdpYzNWaUlqb2lZMmhsWTJ0dmRYUWlmUS5BVlozOVpVMlMzQ1M1TWZ1YVlrcmtBRTVRYzBFUE1DbGpjLXVkQXVubHNNIiwicCI6MTU1NjAyNzQ0LCJzIjo4MTcxMzIsImYiOmZhbHNlLCJ1IjoyOTU3NjcwNjMsImlhdCI6MTczODg2MDIyMiwiZXhwIjoxNzQxNDUyMjIyLCJpc3MiOiJwdWItMCIsInN1YiI6ImxpbmstcmVkaXJlY3QifQ.4UD69m85c2EtL1_iDe3N21spm63gOmIY1XZNGFJ-m30?group%3Dtrue%26coupon%3D254241e3&amp;source=gmail&amp;ust=1755478772680000&amp;usg=AOvVaw3KSMFO1P-rYpuy-0bqRiAz"><span
                            style="color:#ffffff;text-decoration:none">Get 20% off a group subscription</span></a></p>
            </div>
        </div>
    </div>
    <table role="presentation" width="100%" border="0" cellspacing="0" cellpadding="0"
        style="border-top:1px solid rgb(0,0,0,.1);border-bottom:1px solid rgb(0,0,0,.1);min-width:100%">
        <tbody>
            <tr height="16">
                <td height="16" style="font-size:0px;line-height:0">&nbsp;</td>
            </tr>
            <tr>
                <td>
                    <table role="presentation" width="100%" border="0" cellspacing="0" cellpadding="0">
                        <tbody>
                            <tr>
                                <td>
                                    <table role="presentation" width="auto" border="0" cellspacing="0" cellpadding="0"
                                        style="margin:0 auto">
                                        <tbody>
                                            <tr>
                                                <td style="vertical-align:middle">
                                                    <table role="presentation" width="auto" border="0" cellspacing="0"
                                                        cellpadding="0">
                                                        <tbody>
                                                            <tr>
                                                                <td align="center"><a
                                                                        href="https://substack.com/app-link/post?publication_id=817132&amp;post_id=155602744&amp;utm_source=substack&amp;isFreemail=false&amp;submitLike=true&amp;token=eyJ1c2VyX2lkIjoyOTU3NjcwNjMsInBvc3RfaWQiOjE1NTYwMjc0NCwicmVhY3Rpb24iOiLinaQiLCJpYXQiOjE3Mzg4NjAyMjIsImV4cCI6MTc0MTQ1MjIyMiwiaXNzIjoicHViLTgxNzEzMiIsInN1YiI6InJlYWN0aW9uIn0.8pNVY2v-N6uFgbvCQ9SFOCcL7yr4aRTq-JT6jiDLu4s&amp;utm_medium=email&amp;utm_campaign=email-reaction&amp;r=4w3bbr"
                                                                        style="font-family:system-ui,-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Helvetica,Arial,sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';display:inline-block;font-weight:500;border:1px solid rgb(0,0,0,.1);border-radius:9999px;text-transform:uppercase;font-size:12px;line-height:12px;padding:9px 14px;text-decoration:none;color:rgb(119,119,119)"
                                                                        target="_blank"
                                                                        data-saferedirecturl="https://www.google.com/url?q=https://substack.com/app-link/post?publication_id%3D817132%26post_id%3D155602744%26utm_source%3Dsubstack%26isFreemail%3Dfalse%26submitLike%3Dtrue%26token%3DeyJ1c2VyX2lkIjoyOTU3NjcwNjMsInBvc3RfaWQiOjE1NTYwMjc0NCwicmVhY3Rpb24iOiLinaQiLCJpYXQiOjE3Mzg4NjAyMjIsImV4cCI6MTc0MTQ1MjIyMiwiaXNzIjoicHViLTgxNzEzMiIsInN1YiI6InJlYWN0aW9uIn0.8pNVY2v-N6uFgbvCQ9SFOCcL7yr4aRTq-JT6jiDLu4s%26utm_medium%3Demail%26utm_campaign%3Demail-reaction%26r%3D4w3bbr&amp;source=gmail&amp;ust=1755478772680000&amp;usg=AOvVaw0SsaWamHLax2V2954etbrU"><img
                                                                            src="https://ci3.googleusercontent.com/meips/ADKq_NYOjKnGdA6WctG38AS6EVdNYu_-7fh22xck2A9-pvWHOzWlHUTWwJBnDEHuihQT-mHYSFSOPGMFj17PoFDPqBRyAweZbKJBfmfdf0nN2gA2vpA_t4hra0npxdFv1Su3gybOyNLyHYsDXBY3m_mn080mcPeWTKQqIgqXPRT2V1wYwfkaPCLzlY_V-PiTggfv_xrTA8HYh7HKuHujEESc2P0y1oNal12FbEVuGHyE1cfT8Ao_kDE4WXwuj4hsN9KnkWa2-U1gOjvQJix2w3wAxTvq7i8tS-cG5kiw_zDtLa2jRkfU-2J9dqE1fRI=s0-d-e1-ft#https://substackcdn.com/image/fetch/w_36,c_scale,f_png,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack.com%2Ficon%2FLucideHeart%3Fv%3D4%26height%3D36%26fill%3Dnone%26stroke%3D%2523808080%26strokeWidth%3D2"
                                                                            width="18" height="18"
                                                                            style="margin-right:8px;min-width:18px;min-height:18px;border:none;vertical-align:middle;max-width:18px"
                                                                            alt="" class="CToWUd" data-bit="iit"><span
                                                                            style="vertical-align:middle">Like</span></a>
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </td>
                                                <td width="8" style="min-width:8px"></td>
                                                <td style="vertical-align:middle">
                                                    <table role="presentation" width="auto" border="0" cellspacing="0"
                                                        cellpadding="0">
                                                        <tbody>
                                                            <tr>
                                                                <td align="center"><a
                                                                        href="https://substack.com/app-link/post?publication_id=817132&amp;post_id=155602744&amp;utm_source=substack&amp;utm_medium=email&amp;isFreemail=false&amp;comments=true&amp;token=eyJ1c2VyX2lkIjoyOTU3NjcwNjMsInBvc3RfaWQiOjE1NTYwMjc0NCwiaWF0IjoxNzM4ODYwMjIyLCJleHAiOjE3NDE0NTIyMjIsImlzcyI6InB1Yi04MTcxMzIiLCJzdWIiOiJwb3N0LXJlYWN0aW9uIn0.ta-EV4irXBE9q03bYvdwRogoTpeeNAPie6aWsGT4Dwk&amp;r=4w3bbr&amp;utm_campaign=email-half-magic-comments&amp;action=post-comment&amp;utm_source=substack&amp;utm_medium=email"
                                                                        style="font-family:system-ui,-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Helvetica,Arial,sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';display:inline-block;font-weight:500;border:1px solid rgb(0,0,0,.1);border-radius:9999px;text-transform:uppercase;font-size:12px;line-height:12px;padding:9px 14px;text-decoration:none;color:rgb(119,119,119)"
                                                                        target="_blank"
                                                                        data-saferedirecturl="https://www.google.com/url?q=https://substack.com/app-link/post?publication_id%3D817132%26post_id%3D155602744%26utm_source%3Dsubstack%26utm_medium%3Demail%26isFreemail%3Dfalse%26comments%3Dtrue%26token%3DeyJ1c2VyX2lkIjoyOTU3NjcwNjMsInBvc3RfaWQiOjE1NTYwMjc0NCwiaWF0IjoxNzM4ODYwMjIyLCJleHAiOjE3NDE0NTIyMjIsImlzcyI6InB1Yi04MTcxMzIiLCJzdWIiOiJwb3N0LXJlYWN0aW9uIn0.ta-EV4irXBE9q03bYvdwRogoTpeeNAPie6aWsGT4Dwk%26r%3D4w3bbr%26utm_campaign%3Demail-half-magic-comments%26action%3Dpost-comment%26utm_source%3Dsubstack%26utm_medium%3Demail&amp;source=gmail&amp;ust=1755478772680000&amp;usg=AOvVaw0LqxwFhMVoXBNpLqzOW8TW"><img
                                                                            src="https://ci3.googleusercontent.com/meips/ADKq_NZQ6ul5mfmbhHqaf8QqG95Pk2-u43roqB75nm5jJzhHXd--mR5Y8AvAyxxNDy_VtDd9fmjbUCT-HubbmsyqACondkMynDxF_4OPkse-myg1NEghIdojn9hXTPU8-8O66FdE-vni0HscGR7DdII1fBBP6Cqijmqt79Qf4aXgmizh3DWrKKu-k0Wgdk-bqdv-bhzJc25nY0ZIwaK-MSHSD25MZOwmFTqke48mYHWY7_OTC_tC7y9c6l7pZazslKv0l7zCVu3O4lHo5J4IzMUhAsYY7HrfIK6I1w19tGLaiFqYRu_GEX2HfaE1wzpyR-8=s0-d-e1-ft#https://substackcdn.com/image/fetch/w_36,c_scale,f_png,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack.com%2Ficon%2FLucideComments%3Fv%3D4%26height%3D36%26fill%3Dnone%26stroke%3D%2523808080%26strokeWidth%3D2"
                                                                            width="18" height="18"
                                                                            style="margin-right:8px;min-width:18px;min-height:18px;border:none;vertical-align:middle;max-width:18px"
                                                                            alt="" class="CToWUd" data-bit="iit"><span
                                                                            style="vertical-align:middle">Comment</span></a>
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </td>
                                                <td width="8" style="min-width:8px"></td>
                                                <td style="vertical-align:middle">
                                                    <table role="presentation" width="auto" border="0" cellspacing="0"
                                                        cellpadding="0">
                                                        <tbody>
                                                            <tr>
                                                                <td align="center"><a
                                                                        href="https://substack.com/redirect/2/eyJlIjoiaHR0cHM6Ly9vcGVuLnN1YnN0YWNrLmNvbS9wdWIvYnl0ZWJ5dGVnby9wL21hc3RlcmluZy1pZGVtcG90ZW5jeS1idWlsZGluZy1yZWxpYWJsZT91dG1fc291cmNlPXN1YnN0YWNrJnV0bV9tZWRpdW09ZW1haWwmdXRtX2NhbXBhaWduPWVtYWlsLXJlc3RhY2stY29tbWVudCZhY3Rpb249cmVzdGFjay1jb21tZW50JnI9NHczYmJyJnRva2VuPWV5SjFjMlZ5WDJsa0lqb3lPVFUzTmpjd05qTXNJbkJ2YzNSZmFXUWlPakUxTlRZd01qYzBOQ3dpYVdGMElqb3hOek00T0RZd01qSXlMQ0psZUhBaU9qRTNOREUwTlRJeU1qSXNJbWx6Y3lJNkluQjFZaTA0TVRjeE16SWlMQ0p6ZFdJaU9pSndiM04wTFhKbFlXTjBhVzl1SW4wLnRhLUVWNGlyWEJFOXEwM2JZdmR3Um9nb1RwZWVOQVBpZTZhV3NHVDREd2siLCJwIjoxNTU2MDI3NDQsInMiOjgxNzEzMiwiZiI6ZmFsc2UsInUiOjI5NTc2NzA2MywiaWF0IjoxNzM4ODYwMjIyLCJleHAiOjE3NDE0NTIyMjIsImlzcyI6InB1Yi0wIiwic3ViIjoibGluay1yZWRpcmVjdCJ9.Aru0hVmxe0mlHy3HHqIBKLzN8Tz4Wqmhgk_ujMC1ITw?&amp;utm_source=substack&amp;utm_medium=email"
                                                                        style="font-family:system-ui,-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Helvetica,Arial,sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';display:inline-block;font-weight:500;border:1px solid rgb(0,0,0,.1);border-radius:9999px;text-transform:uppercase;font-size:12px;line-height:12px;padding:9px 14px;text-decoration:none;color:rgb(119,119,119)"
                                                                        target="_blank"
                                                                        data-saferedirecturl="https://www.google.com/url?q=https://substack.com/redirect/2/eyJlIjoiaHR0cHM6Ly9vcGVuLnN1YnN0YWNrLmNvbS9wdWIvYnl0ZWJ5dGVnby9wL21hc3RlcmluZy1pZGVtcG90ZW5jeS1idWlsZGluZy1yZWxpYWJsZT91dG1fc291cmNlPXN1YnN0YWNrJnV0bV9tZWRpdW09ZW1haWwmdXRtX2NhbXBhaWduPWVtYWlsLXJlc3RhY2stY29tbWVudCZhY3Rpb249cmVzdGFjay1jb21tZW50JnI9NHczYmJyJnRva2VuPWV5SjFjMlZ5WDJsa0lqb3lPVFUzTmpjd05qTXNJbkJ2YzNSZmFXUWlPakUxTlRZd01qYzBOQ3dpYVdGMElqb3hOek00T0RZd01qSXlMQ0psZUhBaU9qRTNOREUwTlRJeU1qSXNJbWx6Y3lJNkluQjFZaTA0TVRjeE16SWlMQ0p6ZFdJaU9pSndiM04wTFhKbFlXTjBhVzl1SW4wLnRhLUVWNGlyWEJFOXEwM2JZdmR3Um9nb1RwZWVOQVBpZTZhV3NHVDREd2siLCJwIjoxNTU2MDI3NDQsInMiOjgxNzEzMiwiZiI6ZmFsc2UsInUiOjI5NTc2NzA2MywiaWF0IjoxNzM4ODYwMjIyLCJleHAiOjE3NDE0NTIyMjIsImlzcyI6InB1Yi0wIiwic3ViIjoibGluay1yZWRpcmVjdCJ9.Aru0hVmxe0mlHy3HHqIBKLzN8Tz4Wqmhgk_ujMC1ITw?%26utm_source%3Dsubstack%26utm_medium%3Demail&amp;source=gmail&amp;ust=1755478772680000&amp;usg=AOvVaw0v5ijU6b3dosLzhJWOQ0JB"></a>
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </td>
            </tr>
        </tbody>
    </table>
</div>